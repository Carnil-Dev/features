{"version":3,"sources":["../src/utils/cn.ts","../src/components/pricing-tier-card.tsx","../src/components/pricing-tier-editor.tsx","../src/components/ab-test-panel.tsx","../src/components/grandfathering-panel.tsx","../src/components/pricing-preview.tsx","../src/components/template-selector.tsx","../src/components/pricing-calculator.tsx","../src/utils/pricing-editor-reducer.ts","../src/components/pricing-editor.tsx","../src/types/pricing.ts"],"names":["useState","React","useCallback"],"mappings":";;;;;;;;;;AAGO,SAAS,MAAM,MAAA,EAAsB;AAC1C,EAAA,OAAO,OAAA,CAAQ,IAAA,CAAK,MAAM,CAAC,CAAA;AAC7B;ACgBO,SAAS,eAAA,CAAgB;AAAA,EAC9B,IAAA;AAAA,EACA,KAAA,EAAO,MAAA;AAAA,EACP,UAAA;AAAA,EACA,SAAA;AAAA,EACA,QAAA;AAAA,EACA,QAAA;AAAA,EACA,QAAA;AAAA,EACA,SAAA,EAAW;AACb,CAAA,EAAyB;AACvB,EAAA,MAAM,CAAC,aAAA,EAAe,gBAAgB,CAAA,GAAI,SAAS,KAAK,CAAA;AACxD,EAAA,MAAM,CAAC,cAAA,EAAgB,iBAAiB,CAAA,GAAI,SAAS,KAAK,CAAA;AAC1D,EAAA,MAAM,CAAC,oBAAA,EAAsB,uBAAuB,CAAA,GAAI,SAAS,KAAK,CAAA;AAMtE,EAAA,MAAM,CAAC,EAAE,UAAA,EAAW,EAAG,IAAI,IAAI,OAAA,CAAQ;AAAA,IACrC,IAAA,EAAM,MAAA;AAAA,IACN,IAAA,EAAM,EAAE,IAAA,EAAM,MAAA,EAAQ,IAAI,IAAA,CAAK,EAAA,EAAI,MAAM,IAAA,EAAK;AAAA,IAC9C,SAAS,CAAA,OAAA,MAAY;AAAA,MACnB,UAAA,EAAY,QAAQ,UAAA;AAAW,KACjC;AAAA,GACD,CAAA;AAED,EAAA,MAAM,CAAC,EAAE,MAAA,EAAQ,SAAQ,EAAG,IAAI,IAAI,OAAA,CAAQ;AAAA,IAC1C,MAAA,EAAQ,MAAA;AAAA,IACR,IAAA,EAAM,CAAC,IAAA,EAAgB,QAAA,KAAa;AAClC,MAAA,IAAI,IAAA,CAAK,EAAA,KAAO,IAAA,CAAK,EAAA,EAAI;AAEzB,MAAA,MAAM,UAAA,GAAyB;AAAA,QAC7B,UAAA,EAAY,MAAA;AAAA,QACZ,UAAU,IAAA,CAAK,EAAA;AAAA,QACf,QAAA,EAAU;AAAA,OACZ;AAGA,MAAA,OAAO,UAAA;AAAA,IACT,CAAA;AAAA,IACA,SAAS,CAAA,OAAA,MAAY;AAAA,MACnB,MAAA,EAAQ,QAAQ,MAAA,EAAO;AAAA,MACvB,OAAA,EAAS,QAAQ,OAAA;AAAQ,KAC3B;AAAA,GACD,CAAA;AAMD,EAAA,MAAM,cAAA,GAAiB,CAAC,OAAA,KAAoB;AAC1C,IAAA,IAAI,OAAA,CAAQ,IAAA,EAAK,IAAK,OAAA,KAAY,KAAK,IAAA,EAAM;AAC3C,MAAA,QAAA,CAAS,EAAE,IAAA,EAAM,OAAA,CAAQ,IAAA,IAAQ,CAAA;AAAA,IACnC;AACA,IAAA,gBAAA,CAAiB,KAAK,CAAA;AAAA,EACxB,CAAA;AAEA,EAAA,MAAM,eAAA,GAAkB,CAAC,QAAA,KAAqB;AAC5C,IAAA,MAAM,KAAA,GAAQ,WAAW,QAAQ,CAAA;AACjC,IAAA,IAAI,CAAC,MAAM,KAAK,CAAA,IAAK,SAAS,CAAA,IAAK,KAAA,KAAU,KAAK,KAAA,EAAO;AACvD,MAAA,QAAA,CAAS,EAAE,OAAO,CAAA;AAAA,IACpB;AACA,IAAA,iBAAA,CAAkB,KAAK,CAAA;AAAA,EACzB,CAAA;AAEA,EAAA,MAAM,qBAAA,GAAwB,CAAC,cAAA,KAA2B;AACxD,IAAA,IAAI,cAAA,KAAmB,KAAK,WAAA,EAAa;AACvC,MAAA,QAAA,CAAS,EAAE,WAAA,EAAa,cAAA,CAAe,IAAA,IAAQ,CAAA;AAAA,IACjD;AACA,IAAA,uBAAA,CAAwB,KAAK,CAAA;AAAA,EAC/B,CAAA;AAEA,EAAA,MAAM,sBAAsB,MAAM;AAChC,IAAA,QAAA,CAAS,EAAE,SAAA,EAAW,CAAC,IAAA,CAAK,WAAW,CAAA;AAAA,EACzC,CAAA;AAEA,EAAA,MAAM,qBAAqB,MAAM;AAC/B,IAAA,QAAA,CAAS,EAAE,QAAA,EAAU,CAAC,IAAA,CAAK,UAAU,CAAA;AAAA,EACvC,CAAA;AAMA,EAAA,uBACE,KAAA,CAAA,aAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,GAAA,EAAK,CAAA,IAAA,KAAQ,IAAA,CAAK,IAAA,CAAK,IAAI,CAAC,CAAA;AAAA,MAC5B,SAAA,EAAW,EAAA;AAAA,QACT,kFAAA;AAAA,QACA,aAAa,2BAAA,GAA8B,uCAAA;AAAA,QAC3C,aAAa,YAAA,GAAe,aAAA;AAAA,QAC5B,MAAA,IAAU,UAAU,kBAAA,GAAqB,EAAA;AAAA,QACzC,IAAA,CAAK,YAAY,wBAAA,GAA2B;AAAA,OAC9C;AAAA,MACA,OAAA,EAAS;AAAA,KAAA;AAAA,IAGR,KAAK,SAAA,oBACJ,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,yEACb,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,8FAAA,EAAA,sCACZ,IAAA,EAAA,EAAK,SAAA,EAAU,cAAA,EAAe,CAAA,EAAE,cAEnC,CACF,CAAA;AAAA,oBAIF,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,KAAA,EAAA,kBACb,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,kCAAA,EAAA,kBACb,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,QAAA,EAAA,EACZ,aAAA,mBACC,KAAA,CAAA,aAAA;AAAA,MAAC,OAAA;AAAA,MAAA;AAAA,QACC,IAAA,EAAK,MAAA;AAAA,QACL,cAAc,IAAA,CAAK,IAAA;AAAA,QACnB,SAAA,EAAU,8FAAA;AAAA,QAEV,MAAA,EAAQ,CAAA,CAAA,KAAK,cAAA,CAAgB,CAAA,CAAE,OAA4B,KAAK,CAAA;AAAA,QAChE,WAAW,CAAA,CAAA,KAAK;AACd,UAAA,IAAI,CAAA,CAAE,QAAQ,OAAA,EAAS;AAErB,YAAA,cAAA,CAAe,CAAA,CAAE,cAAc,KAAK,CAAA;AAAA,UACtC,CAAA,MAAA,IAAW,CAAA,CAAE,GAAA,KAAQ,QAAA,EAAU;AAC7B,YAAA,gBAAA,CAAiB,KAAK,CAAA;AAAA,UACxB;AAAA,QACF,CAAA;AAAA,QACA,SAAA,EAAS;AAAA;AAAA,KACX,mBAEA,KAAA,CAAA,aAAA;AAAA,MAAC,IAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,oEAAA;AAAA,QACV,aAAA,EAAe,MAAM,gBAAA,CAAiB,IAAI;AAAA,OAAA;AAAA,MAEzC,IAAA,CAAK;AAAA,OAIT,oBAAA,mBACC,KAAA,CAAA,aAAA;AAAA,MAAC,OAAA;AAAA,MAAA;AAAA,QACC,IAAA,EAAK,MAAA;AAAA,QACL,YAAA,EAAc,KAAK,WAAA,IAAe,EAAA;AAAA,QAClC,WAAA,EAAY,oBAAA;AAAA,QACZ,SAAA,EAAU,8FAAA;AAAA,QAEV,MAAA,EAAQ,CAAA,CAAA,KAAK,qBAAA,CAAuB,CAAA,CAAE,OAA4B,KAAK,CAAA;AAAA,QACvE,WAAW,CAAA,CAAA,KAAK;AACd,UAAA,IAAI,CAAA,CAAE,QAAQ,OAAA,EAAS;AAErB,YAAA,qBAAA,CAAsB,CAAA,CAAE,cAAc,KAAK,CAAA;AAAA,UAC7C,CAAA,MAAA,IAAW,CAAA,CAAE,GAAA,KAAQ,QAAA,EAAU;AAC7B,YAAA,uBAAA,CAAwB,KAAK,CAAA;AAAA,UAC/B;AAAA,QACF,CAAA;AAAA,QACA,SAAA,EAAS;AAAA;AAAA,KACX,mBAEA,KAAA,CAAA,aAAA;AAAA,MAAC,GAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,+DAAA;AAAA,QACV,aAAA,EAAe,MAAM,uBAAA,CAAwB,IAAI;AAAA,OAAA;AAAA,MAEhD,KAAK,WAAA,IAAe;AAAA,KAG3B,CAAA,EAGC,SAAA,oBACC,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,kCAAA,EAAA,kBACb,KAAA,CAAA,aAAA;AAAA,MAAC,QAAA;AAAA,MAAA;AAAA,QACC,SAAS,CAAA,CAAA,KAAK;AACZ,UAAA,CAAA,CAAE,eAAA,EAAgB;AAClB,UAAA,mBAAA,EAAoB;AAAA,QACtB,CAAA;AAAA,QACA,SAAA,EAAW,EAAA;AAAA,UACT,+BAAA;AAAA,UACA,IAAA,CAAK,YACD,uCAAA,GACA;AAAA,SACN;AAAA,QACA,KAAA,EAAO,IAAA,CAAK,SAAA,GAAY,sBAAA,GAAyB;AAAA,OAAA;AAAA,sBAEjD,KAAA,CAAA,aAAA,CAAC,IAAA,EAAA,EAAK,SAAA,EAAU,SAAA,EAAU;AAAA,KAC5B,kBAEA,KAAA,CAAA,aAAA;AAAA,MAAC,QAAA;AAAA,MAAA;AAAA,QACC,SAAS,CAAA,CAAA,KAAK;AACZ,UAAA,CAAA,CAAE,eAAA,EAAgB;AAClB,UAAA,kBAAA,EAAmB;AAAA,QACrB,CAAA;AAAA,QACA,SAAA,EAAW,EAAA;AAAA,UACT,+BAAA;AAAA,UACA,IAAA,CAAK,WACD,qCAAA,GACA;AAAA,SACN;AAAA,QACA,KAAA,EAAO,IAAA,CAAK,QAAA,GAAW,iBAAA,GAAoB;AAAA,OAAA;AAAA,MAE1C,IAAA,CAAK,QAAA,mBAAW,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAM,SAAA,EAAU,WAAU,CAAA,mBAAK,KAAA,CAAA,aAAA,CAAC,CAAA,EAAA,EAAE,SAAA,EAAU,SAAA,EAAU;AAAA,KAC1E,kBAEA,KAAA,CAAA,aAAA;AAAA,MAAC,QAAA;AAAA,MAAA;AAAA,QACC,SAAS,CAAA,CAAA,KAAK;AACZ,UAAA,CAAA,CAAE,eAAA,EAAgB;AAClB,UAAA,QAAA,EAAS;AAAA,QACX,CAAA;AAAA,QACA,SAAA,EAAU,+DAAA;AAAA,QACV,KAAA,EAAM;AAAA,OAAA;AAAA,sBAEN,KAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAO,SAAA,EAAU,SAAA,EAAU;AAAA,KAEhC,CAEJ,CAAA,kBAGA,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,MAAA,EAAA,EACZ,cAAA,mBACC,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,mBAAA,EAAA,kBACb,KAAA,CAAA,aAAA,CAAC,UAAK,SAAA,EAAU,kCAAA,EAAA,EAAmC,GAAC,CAAA,kBACpD,KAAA,CAAA,aAAA;AAAA,MAAC,OAAA;AAAA,MAAA;AAAA,QACC,IAAA,EAAK,QAAA;AAAA,QACL,cAAc,IAAA,CAAK,KAAA;AAAA,QACnB,SAAA,EAAU,oGAAA;AAAA,QAEV,MAAA,EAAQ,CAAA,CAAA,KAAK,eAAA,CAAiB,CAAA,CAAE,OAA4B,KAAK,CAAA;AAAA,QACjE,WAAW,CAAA,CAAA,KAAK;AACd,UAAA,IAAI,CAAA,CAAE,QAAQ,OAAA,EAAS;AAErB,YAAA,eAAA,CAAgB,CAAA,CAAE,cAAc,KAAK,CAAA;AAAA,UACvC,CAAA,MAAA,IAAW,CAAA,CAAE,GAAA,KAAQ,QAAA,EAAU;AAC7B,YAAA,iBAAA,CAAkB,KAAK,CAAA;AAAA,UACzB;AAAA,QACF,CAAA;AAAA,QACA,SAAA,EAAS;AAAA;AAAA,KAEb,CAAA,mBAEA,KAAA,CAAA,aAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,sDAAA;AAAA,QACV,aAAA,EAAe,MAAM,iBAAA,CAAkB,IAAI;AAAA,OAAA;AAAA,sBAE3C,KAAA,CAAA,aAAA,CAAC,UAAK,SAAA,EAAU,kCAAA,EAAA,EAAmC,KAAE,IAAA,CAAK,KAAA,CAAM,OAAA,CAAQ,CAAC,CAAE,CAAA;AAAA,0CAC1E,MAAA,EAAA,EAAK,SAAA,EAAU,4BAAA,EAAA,EAA6B,IAAA,EAAG,KAAK,QAAS;AAAA,KAGpE,CAAA,kBAGA,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,0BACb,KAAA,CAAA,aAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,0CAAA,EAAA,EAA2C,UAAQ,CAAA,kBACjE,KAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,WAAA,EAAA,EACZ,KAAK,QAAA,CAAS,MAAA,GAAS,CAAA,GACtB,IAAA,CAAK,SAAS,GAAA,CAAI,CAAC,SAAS,YAAA,qBAC1B,KAAA,CAAA,aAAA,CAAC,SAAI,GAAA,EAAK,YAAA,EAAc,SAAA,EAAU,yCAAA,EAAA,sCAC/B,KAAA,EAAA,EAAM,SAAA,EAAU,6CAA4C,CAAA,kBAC7D,KAAA,CAAA,aAAA,CAAC,cAAM,OAAQ,CACjB,CACD,CAAA,uCAEA,GAAA,EAAA,EAAE,SAAA,EAAU,kCAA+B,uBAAqB,CAErE,CACF,CAAA,EAGC,IAAA,CAAK,MAAA,IAAU,MAAA,CAAO,KAAK,IAAA,CAAK,MAAM,EAAE,MAAA,GAAS,CAAA,wCAC/C,KAAA,EAAA,EAAI,SAAA,EAAU,MAAA,EAAA,kBACb,KAAA,CAAA,aAAA,CAAC,QAAG,SAAA,EAAU,0CAAA,EAAA,EAA2C,QAAM,CAAA,kBAC/D,KAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,WAAA,EAAA,EACZ,MAAA,CAAO,OAAA,CAAQ,KAAK,MAAM,CAAA,CAAE,IAAI,CAAC,CAAC,KAAK,KAAK,CAAA,qBAC3C,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,KAAU,SAAA,EAAU,yDAAA,EAAA,kBACvB,KAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,WAAU,YAAA,EAAA,EAAc,GAAA,CAAI,OAAA,CAAQ,UAAA,EAAY,KAAK,CAAA,CAAE,WAAA,EAAc,CAAA,kBAC3E,KAAA,CAAA,aAAA,CAAC,UAAK,SAAA,EAAU,aAAA,EAAA,EAAe,KAAA,CAAM,cAAA,EAAiB,CACxD,CACD,CACH,CACF,CAAA,EAID,KAAK,QAAA,IAAY,MAAA,CAAO,IAAA,CAAK,IAAA,CAAK,QAAQ,CAAA,CAAE,MAAA,GAAS,qBACpD,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,MAAA,EAAA,kBACb,KAAA,CAAA,aAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,8CAA2C,UAAQ,CAAA,sCAChE,KAAA,EAAA,EAAI,SAAA,EAAU,eACZ,MAAA,CAAO,OAAA,CAAQ,IAAA,CAAK,QAAQ,EAAE,GAAA,CAAI,CAAC,CAAC,GAAA,EAAK,KAAK,sBAC7C,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,GAAA,EAAU,SAAA,EAAU,6EACvB,KAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,WAAU,YAAA,EAAA,EAAc,GAAI,mBAClC,KAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,aAAA,EAAA,EAAe,OAAO,KAAK,CAAE,CAC/C,CACD,CACH,CACF,CAEJ,CAAA;AAAA,IAGC,SAAA,wCACE,KAAA,EAAA,EAAI,SAAA,EAAU,iGACb,KAAA,CAAA,aAAA,CAAC,YAAA,EAAA,EAAa,SAAA,EAAU,uBAAA,EAAwB,CAClD,CAAA;AAAA,oBAIF,KAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,uDAAA,EAAA,EACZ,CAAC,IAAA,CAAK,QAAA,wCACJ,KAAA,EAAA,EAAI,SAAA,EAAU,wEAAqE,UAEpF,CAAA,EAED,KAAK,SAAA,oBACJ,KAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,0EAAA,EAAA,EAA2E,SAE1F,CAEJ;AAAA,GACF;AAEJ;ACpUO,SAAS,iBAAA,CAAkB;AAAA,EAChC,IAAA;AAAA,EACA,QAAA;AAAA,EACA,OAAA;AAAA,EACA,QAAA;AAAA,EACA,mBAAA;AAAA,EACA,QAAA;AAAA,EACA;AACF,CAAA,EAA2B;AACzB,EAAA,MAAM,CAAC,QAAA,EAAU,WAAW,CAAA,GAAIA,QAAAA,CAAS;AAAA,IACvC,MAAM,IAAA,CAAK,IAAA;AAAA,IACX,aAAa,IAAA,CAAK,WAAA;AAAA,IAClB,OAAO,IAAA,CAAK,KAAA;AAAA,IACZ,UAAU,IAAA,CAAK,QAAA;AAAA,IACf,UAAU,IAAA,CAAK,QAAA;AAAA,IACf,eAAe,IAAA,CAAK,aAAA;AAAA,IACpB,UAAU,IAAA,CAAK,QAAA;AAAA,IACf,UAAU,IAAA,CAAK;AAAA,GAChB,CAAA;AAED,EAAA,MAAM,YAAA,GAAe,WAAA;AAAA,IACnB,CAAC,CAAA,KAAuB;AACtB,MAAA,CAAA,CAAE,cAAA,EAAe;AACjB,MAAA,QAAA,CAAS,QAAQ,CAAA;AACjB,MAAA,OAAA,EAAQ;AAAA,IACV,CAAA;AAAA,IACA,CAAC,QAAA,EAAU,QAAA,EAAU,OAAO;AAAA,GAC9B;AAEA,EAAA,MAAM,YAAA,GAAe,WAAA,CAAY,CAAC,KAAA,EAAe,KAAA,KAAe;AAC9D,IAAA,WAAA,CAAY,CAAA,IAAA,MAAS,EAAE,GAAG,IAAA,EAAM,CAAC,KAAK,GAAG,OAAM,CAAE,CAAA;AAAA,EACnD,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,uBACEC,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,oDACbA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,wCAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,uBAAA,EAAA,EAAwB,WAAS,mBAC/CA,MAAAA,CAAA,aAAA,CAAC,QAAA,EAAA,EAAO,OAAA,EAAS,OAAA,EAAS,WAAU,mCAAA,EAAA,EAAoC,MAExE,CACF,CAAA,kBAEAA,MAAAA,CAAA,cAAC,MAAA,EAAA,EAAK,QAAA,EAAU,YAAA,EAAc,SAAA,EAAU,WAAA,EAAA,kBACtCA,OAAA,aAAA,CAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,OAAA,EAAA,EAAM,WAAU,8CAAA,EAAA,EAA+C,MAAI,CAAA,kBACpEA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,MAAA;AAAA,MACL,OAAO,QAAA,CAAS,IAAA;AAAA,MAChB,UAAU,CAAA,CAAA,KAAK,YAAA,CAAa,MAAA,EAAQ,CAAA,CAAE,OAAO,KAAK,CAAA;AAAA,MAClD,SAAA,EAAU;AAAA;AAAA,GAEd,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,WAAM,SAAA,EAAU,8CAAA,EAAA,EAA+C,aAAW,CAAA,kBAC3EA,MAAAA,CAAA,aAAA;AAAA,IAAC,UAAA;AAAA,IAAA;AAAA,MACC,OAAO,QAAA,CAAS,WAAA;AAAA,MAChB,UAAU,CAAA,CAAA,KAAK,YAAA,CAAa,aAAA,EAAe,CAAA,CAAE,OAAO,KAAK,CAAA;AAAA,MACzD,IAAA,EAAM,CAAA;AAAA,MACN,SAAA,EAAU;AAAA;AAAA,GAEd,mBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,4CACbA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,OAAA,aAAA,CAAC,OAAA,EAAA,EAAM,WAAU,8CAAA,EAAA,EAA+C,OAAK,CAAA,kBACrEA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,QAAA;AAAA,MACL,OAAO,QAAA,CAAS,KAAA;AAAA,MAChB,QAAA,EAAU,OAAK,YAAA,CAAa,OAAA,EAAS,WAAW,CAAA,CAAE,MAAA,CAAO,KAAK,CAAA,IAAK,CAAC,CAAA;AAAA,MACpE,SAAA,EAAU;AAAA;AAAA,GAEd,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,WAAM,SAAA,EAAU,8CAAA,EAAA,EAA+C,UAAQ,CAAA,kBACxEA,MAAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAO,QAAA,CAAS,QAAA;AAAA,MAChB,UAAU,CAAA,CAAA,KAAK,YAAA,CAAa,UAAA,EAAY,CAAA,CAAE,OAAO,KAAK,CAAA;AAAA,MACtD,SAAA,EAAU;AAAA,KAAA;AAAA,IAET,mBAAA,CAAoB,GAAA,CAAI,CAAA,IAAA,qBACvBA,MAAAA,CAAA,aAAA,CAAC,QAAA,EAAA,EAAO,GAAA,EAAK,IAAA,EAAM,KAAA,EAAO,IAAA,EAAA,EACvB,IACH,CACD;AAAA,GAEL,CACF,CAAA,kBAEAA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,wBAAA,EAAA,kBACbA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,OAAA,aAAA,CAAC,OAAA,EAAA,EAAM,WAAU,8CAAA,EAAA,EAA+C,UAAQ,CAAA,kBACxEA,MAAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAO,QAAA,CAAS,QAAA;AAAA,MAChB,UAAU,CAAA,CAAA,KAAK,YAAA,CAAa,UAAA,EAAY,CAAA,CAAE,OAAO,KAAK,CAAA;AAAA,MACtD,SAAA,EAAU;AAAA,KAAA;AAAA,oBAEVA,MAAAA,CAAA,aAAA,CAAC,QAAA,EAAA,EAAO,KAAA,EAAM,WAAQ,SAAO,CAAA;AAAA,oBAC7BA,MAAAA,CAAA,aAAA,CAAC,QAAA,EAAA,EAAO,KAAA,EAAM,UAAO,QAAM;AAAA,GAE/B,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,WAAM,SAAA,EAAU,8CAAA,EAAA,EAA+C,gBAAc,CAAA,kBAC9EA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,QAAA;AAAA,MACL,OAAO,QAAA,CAAS,aAAA;AAAA,MAChB,QAAA,EAAU,OAAK,YAAA,CAAa,eAAA,EAAiB,SAAS,CAAA,CAAE,MAAA,CAAO,KAAK,CAAA,IAAK,CAAC,CAAA;AAAA,MAC1E,GAAA,EAAI,GAAA;AAAA,MACJ,SAAA,EAAU;AAAA;AAAA,GAEd,CACF,CAAA,kBAEAA,OAAA,aAAA,CAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,cAAC,OAAA,EAAA,EAAM,SAAA,EAAU,8CAAA,EAAA,EAA+C,UAAQ,mBACxEA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,WAAA,EAAA,EACZ,QAAA,CAAS,GAAA,CAAI,CAAC,SAAS,KAAA,qBACtBA,MAAAA,CAAA,aAAA,CAAC,WAAM,GAAA,EAAK,KAAA,EAAO,SAAA,EAAU,mBAAA,EAAA,kBAC3BA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,UAAA;AAAA,MACL,OAAA,EAAS,QAAA,CAAS,QAAA,CAAS,QAAA,CAAS,OAAO,CAAA;AAAA,MAC3C,UAAU,CAAA,CAAA,KAAK;AACb,QAAA,MAAM,WAAA,GAAc,CAAA,CAAE,MAAA,CAAO,OAAA,GACzB,CAAC,GAAG,QAAA,CAAS,QAAA,EAAU,OAAO,IAC9B,QAAA,CAAS,QAAA,CAAS,MAAA,CAAO,CAAA,CAAA,KAAK,MAAM,OAAO,CAAA;AAC/C,QAAA,YAAA,CAAa,YAAY,WAAW,CAAA;AAAA,MACtC,CAAA;AAAA,MACA,SAAA,EAAU;AAAA;AAAA,GACZ,kBACAA,MAAAA,CAAA,aAAA,CAAC,UAAK,SAAA,EAAU,uBAAA,EAAA,EAAyB,OAAQ,CACnD,CACD,CACH,CACF,CAAA,kBAEAA,MAAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,mBAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,UAAA;AAAA,MACL,EAAA,EAAG,UAAA;AAAA,MACH,SAAS,QAAA,CAAS,QAAA;AAAA,MAClB,UAAU,CAAA,CAAA,KAAK,YAAA,CAAa,UAAA,EAAY,CAAA,CAAE,OAAO,OAAO,CAAA;AAAA,MACxD,SAAA,EAAU;AAAA;AAAA,qBAEZA,MAAAA,CAAA,cAAC,OAAA,EAAA,EAAM,OAAA,EAAQ,YAAW,SAAA,EAAU,uBAAA,EAAA,EAAwB,QAE5D,CACF,CAAA,kBAEAA,MAAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,4BAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,QAAA;AAAA,MACL,OAAA,EAAS,OAAA;AAAA,MACT,SAAA,EAAU;AAAA,KAAA;AAAA,IACX;AAAA,GAED,kBACAA,MAAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,QAAA;AAAA,MACL,SAAA,EAAU;AAAA,KAAA;AAAA,IACX;AAAA,GAGH,CACF,CACF,CAAA;AAEJ;AC3KO,SAAS,YAAY,EAAE,UAAA,EAAY,OAAA,EAAS,MAAA,EAAQ,aAAY,EAAqB;AAC1F,EAAA,MAAM,CAAC,UAAA,EAAY,aAAa,CAAA,GAAID,SAAS,KAAK,CAAA;AAClD,EAAA,MAAM,CAAC,UAAA,EAAY,aAAa,CAAA,GAAIA,QAAAA,CAAS;AAAA,IAC3C,IAAA,EAAM,EAAA;AAAA,IACN,WAAA,EAAa,EAAA;AAAA,IACb,WAAA,EAAa,EAAA;AAAA,IACb,YAAA,EAAc,EAAA;AAAA,IACd,QAAA,EAAU;AAAA,GACX,CAAA;AAED,EAAA,MAAM,kBAAkB,MAAM;AAC5B,IAAA,MAAM,OAAA,GAAkB;AAAA,MACtB,EAAA,EAAI,CAAA,KAAA,EAAQ,IAAA,CAAK,GAAA,EAAK,CAAA,CAAA;AAAA,MACtB,MAAM,UAAA,CAAW,IAAA;AAAA,MACjB,aAAa,UAAA,CAAW,WAAA;AAAA,MACxB,aAAa,UAAA,CAAW,WAAA;AAAA,MACxB,cAAc,UAAA,CAAW,YAAA;AAAA,MACzB,UAAU,UAAA,CAAW,QAAA;AAAA,MACrB,SAAA,sBAAe,IAAA,EAAK;AAAA,MACpB,MAAA,EAAQ,SAAA;AAAA,MACR,OAAA,EAAS;AAAA,QACP,WAAA,EAAa,CAAA;AAAA,QACb,OAAA,EAAS,CAAA;AAAA,QACT,KAAA,EAAO;AAAA;AACT,KACF;AAEA,IAAA,OAAA,CAAQ,OAAO,CAAA;AACf,IAAA,aAAA,CAAc,KAAK,CAAA;AACnB,IAAA,aAAA,CAAc;AAAA,MACZ,IAAA,EAAM,EAAA;AAAA,MACN,WAAA,EAAa,EAAA;AAAA,MACb,WAAA,EAAa,EAAA;AAAA,MACb,YAAA,EAAc,EAAA;AAAA,MACd,QAAA,EAAU;AAAA,KACX,CAAA;AAAA,EACH,CAAA;AAEA,EAAA,IAAI,UAAA,EAAY;AACd,IAAA,uBACEC,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,gCAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,wCAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,IAAA,EAAA,EAAG,WAAU,uBAAA,EAAA,EAAwB,iBAAe,CAAA,kBACrDA,MAAAA,CAAA,aAAA;AAAA,MAAC,QAAA;AAAA,MAAA;AAAA,QACC,OAAA,EAAS,MAAA;AAAA,QACT,SAAA,EAAU;AAAA,OAAA;AAAA,MACX;AAAA,KAGH,CAAA,kBAEAA,MAAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,WAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,2BAAA,EAAA,EAA6B,UAAA,CAAW,IAAK,CAAA,kBAC3DA,MAAAA,CAAA,aAAA,CAAC,GAAA,EAAA,EAAE,SAAA,EAAU,2BAAyB,UAAA,CAAW,WAAY,CAC/D,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,gCAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,6BACCA,MAAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,eAAA,EAAA,EAAgB,UAAQ,CAAA,kBACxCA,MAAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,sBAAoB,UAAA,CAAW,WAAY,CAC7D,CAAA,kBACAA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,mBAAgB,gBAAc,CAAA,kBAC9CA,MAAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,WAAU,kBAAA,EAAA,EAAoB,UAAA,CAAW,YAAA,EAAa,GAAC,CAC/D,CAAA,kBACAA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,UAAK,SAAA,EAAU,eAAA,EAAA,EAAgB,WAAS,CAAA,kBACzCA,MAAAA,CAAA,cAAC,MAAA,EAAA,EAAK,SAAA,EAAU,kBAAA,EAAA,EAAoB,UAAA,CAAW,QAAA,EAAS,OAAK,CAC/D,CAAA,kBACAA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,IAAA,kBACCA,OAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,eAAA,EAAA,EAAgB,SAAO,CAAA,kBACvCA,MAAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,4CAAA,EAAA,EACb,UAAA,CAAW,MACd,CACF,CACF,CAAA,kBAEAA,MAAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,eAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,IAAA,EAAA,EAAG,WAAU,gCAAA,EAAA,EAAiC,SAAO,CAAA,kBACtDA,MAAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,gCAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,eAAA,EAAA,EAAgB,QAAM,mBACtCA,MAAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,kBAAA,EAAA,EAAoB,WAAW,OAAA,CAAQ,KAAM,CAC/D,CAAA,kBACAA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,mBAAgB,cAAY,CAAA,kBAC5CA,MAAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,WAAU,kBAAA,EAAA,EAAoB,UAAA,CAAW,OAAA,CAAQ,WAAY,CACrE,CAAA,kBACAA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,UAAK,SAAA,EAAU,eAAA,EAAA,EAAgB,UAAQ,CAAA,kBACxCA,MAAAA,CAAA,cAAC,MAAA,EAAA,EAAK,SAAA,EAAU,kBAAA,EAAA,EAAmB,GAAA,EAAE,UAAA,CAAW,OAAA,CAAQ,OAAQ,CAClE,CACF,CACF,CACF,CACF,CAAA;AAAA,EAEJ;AAEA,EAAA,IAAI,UAAA,EAAY;AACd,IAAA,uBACEA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,gCAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,wCAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,IAAA,EAAA,EAAG,WAAU,uBAAA,EAAA,EAAwB,iBAAe,CAAA,kBACrDA,MAAAA,CAAA,aAAA;AAAA,MAAC,QAAA;AAAA,MAAA;AAAA,QACC,OAAA,EAAS,MAAM,aAAA,CAAc,KAAK,CAAA;AAAA,QAClC,SAAA,EAAU;AAAA,OAAA;AAAA,MACX;AAAA,KAGH,mBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,+BACbA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,OAAA,aAAA,CAAC,OAAA,EAAA,EAAM,WAAU,8CAAA,EAAA,EAA+C,WAAS,CAAA,kBACzEA,MAAAA,CAAA,aAAA;AAAA,MAAC,OAAA;AAAA,MAAA;AAAA,QACC,IAAA,EAAK,MAAA;AAAA,QACL,OAAO,UAAA,CAAW,IAAA;AAAA,QAClB,QAAA,EAAU,CAAA,CAAA,KAAK,aAAA,CAAc,CAAA,IAAA,MAAS,EAAE,GAAG,IAAA,EAAM,IAAA,EAAM,CAAA,CAAE,MAAA,CAAO,KAAA,EAAM,CAAE,CAAA;AAAA,QACxE,SAAA,EAAU;AAAA;AAAA,KAEd,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,WAAM,SAAA,EAAU,8CAAA,EAAA,EAA+C,aAAW,CAAA,kBAC3EA,MAAAA,CAAA,aAAA;AAAA,MAAC,UAAA;AAAA,MAAA;AAAA,QACC,OAAO,UAAA,CAAW,WAAA;AAAA,QAClB,QAAA,EAAU,CAAA,CAAA,KAAK,aAAA,CAAc,CAAA,IAAA,MAAS,EAAE,GAAG,IAAA,EAAM,WAAA,EAAa,CAAA,CAAE,MAAA,CAAO,KAAA,EAAM,CAAE,CAAA;AAAA,QAC/E,IAAA,EAAM,CAAA;AAAA,QACN,SAAA,EAAU;AAAA;AAAA,KAEd,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,WAAM,SAAA,EAAU,8CAAA,EAAA,EAA+C,cAAY,CAAA,kBAC5EA,MAAAA,CAAA,aAAA;AAAA,MAAC,OAAA;AAAA,MAAA;AAAA,QACC,IAAA,EAAK,MAAA;AAAA,QACL,OAAO,UAAA,CAAW,WAAA;AAAA,QAClB,QAAA,EAAU,CAAA,CAAA,KAAK,aAAA,CAAc,CAAA,IAAA,MAAS,EAAE,GAAG,IAAA,EAAM,WAAA,EAAa,CAAA,CAAE,MAAA,CAAO,KAAA,EAAM,CAAE,CAAA;AAAA,QAC/E,SAAA,EAAU;AAAA;AAAA,KAEd,mBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,4CACbA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,OAAA,aAAA,CAAC,OAAA,EAAA,EAAM,WAAU,8CAAA,EAAA,EAA+C,mBAEhE,CAAA,kBACAA,MAAAA,CAAA,aAAA;AAAA,MAAC,OAAA;AAAA,MAAA;AAAA,QACC,IAAA,EAAK,QAAA;AAAA,QACL,GAAA,EAAI,GAAA;AAAA,QACJ,GAAA,EAAI,IAAA;AAAA,QACJ,OAAO,UAAA,CAAW,YAAA;AAAA,QAClB,QAAA,EAAU,CAAA,CAAA,KACR,aAAA,CAAc,CAAA,IAAA,MAAS,EAAE,GAAG,IAAA,EAAM,YAAA,EAAc,QAAA,CAAS,CAAA,CAAE,MAAA,CAAO,KAAK,CAAA,IAAK,IAAG,CAAE,CAAA;AAAA,QAEnF,SAAA,EAAU;AAAA;AAAA,KAEd,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,WAAM,SAAA,EAAU,8CAAA,EAAA,EAA+C,iBAEhE,CAAA,kBACAA,MAAAA,CAAA,aAAA;AAAA,MAAC,OAAA;AAAA,MAAA;AAAA,QACC,IAAA,EAAK,QAAA;AAAA,QACL,GAAA,EAAI,GAAA;AAAA,QACJ,OAAO,UAAA,CAAW,QAAA;AAAA,QAClB,QAAA,EAAU,CAAA,CAAA,KACR,aAAA,CAAc,CAAA,IAAA,MAAS,EAAE,GAAG,IAAA,EAAM,QAAA,EAAU,QAAA,CAAS,CAAA,CAAE,MAAA,CAAO,KAAK,CAAA,IAAK,IAAG,CAAE,CAAA;AAAA,QAE/E,SAAA,EAAU;AAAA;AAAA,KAEd,CACF,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,4BAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA;AAAA,MAAC,QAAA;AAAA,MAAA;AAAA,QACC,OAAA,EAAS,MAAM,aAAA,CAAc,KAAK,CAAA;AAAA,QAClC,SAAA,EAAU;AAAA,OAAA;AAAA,MACX;AAAA,KAED,kBACAA,MAAAA,CAAA,aAAA;AAAA,MAAC,QAAA;AAAA,MAAA;AAAA,QACC,OAAA,EAAS,eAAA;AAAA,QACT,QAAA,EAAU,CAAC,UAAA,CAAW,IAAA,IAAQ,CAAC,UAAA,CAAW,WAAA;AAAA,QAC1C,SAAA,EAAU;AAAA,OAAA;AAAA,MACX;AAAA,KAGH,CACF,CACF,CAAA;AAAA,EAEJ;AAEA,EAAA,uBACEA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,gCAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,wCAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,IAAA,EAAA,EAAG,WAAU,uBAAA,EAAA,EAAwB,aAAW,CAAA,kBACjDA,MAAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,MAAM,aAAA,CAAc,IAAI,CAAA;AAAA,MACjC,SAAA,EAAU;AAAA,KAAA;AAAA,IACX;AAAA,GAGH,CAAA,kBAEAA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,kBAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,oBAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,mBAAA,EAAoB,IAAA,EAAK,MAAA,EAAO,MAAA,EAAO,cAAA,EAAe,OAAA,EAAQ,WAAA,EAAA,kBAC3EA,MAAAA,CAAA,aAAA;AAAA,IAAC,MAAA;AAAA,IAAA;AAAA,MACC,aAAA,EAAc,OAAA;AAAA,MACd,cAAA,EAAe,OAAA;AAAA,MACf,WAAA,EAAa,CAAA;AAAA,MACb,CAAA,EAAE;AAAA;AAAA,GAEN,CACF,CAAA,kBACAA,MAAAA,CAAA,aAAA,CAAC,OAAE,SAAA,EAAU,uBAAA,EAAA,EAAwB,qBAAmB,CAAA,kBACxDA,OAAA,aAAA,CAAC,GAAA,EAAA,EAAE,WAAU,4BAAA,EAAA,EAA6B,6CAA2C,CACvF,CACF,CAAA;AAEJ;ACjOO,SAAS,mBAAA,CAAoB;AAAA,EAClC,KAAA;AAAA,EACA,KAAA;AAAA,EACA,QAAA;AAAA,EACA;AACF,CAAA,EAA6B;AAC3B,EAAA,MAAM,CAAC,UAAA,EAAY,aAAa,CAAA,GAAID,SAAS,KAAK,CAAA;AAClD,EAAA,MAAM,CAAC,WAAA,EAAa,cAAc,CAAA,GAAIA,SAAwB,IAAI,CAAA;AAClE,EAAA,MAAM,CAAC,QAAA,EAAU,WAAW,CAAA,GAAIA,QAAAA,CAAS;AAAA,IACvC,IAAA,EAAM,EAAA;AAAA,IACN,WAAA,EAAa,EAAA;AAAA,IACb,eAAA,EAAiB,EAAA;AAAA,IACjB,aAAA,EAAe,CAAA;AAAA,IACf,kBAAA,EAAoB,CAAA;AAAA,IACpB,SAAA,EAAW,EAAA;AAAA,IACX,OAAA,EAAS,EAAA;AAAA,IACT,QAAA,EAAU;AAAA,GACX,CAAA;AAED,EAAA,MAAM,eAAe,MAAM;AACzB,IAAA,MAAM,OAAA,GAA8B;AAAA,MAClC,EAAA,EAAI,WAAA,IAAe,CAAA,KAAA,EAAQ,IAAA,CAAK,KAAK,CAAA,CAAA;AAAA,MACrC,MAAM,QAAA,CAAS,IAAA;AAAA,MACf,aAAa,QAAA,CAAS,WAAA;AAAA,MACtB,iBAAiB,QAAA,CAAS,eAAA;AAAA,MAC1B,eAAe,QAAA,CAAS,aAAA;AAAA,MACxB,oBAAoB,QAAA,CAAS,kBAAA;AAAA,MAC7B,SAAA,EAAW,IAAI,IAAA,CAAK,QAAA,CAAS,SAAS,CAAA;AAAA,MACtC,SAAS,QAAA,CAAS,OAAA,GAAU,IAAI,IAAA,CAAK,QAAA,CAAS,OAAO,CAAA,GAAI,IAAA;AAAA,MACzD,UAAU,QAAA,CAAS,QAAA;AAAA,MACnB,SAAA,sBAAe,IAAA,EAAK;AAAA,MACpB,SAAA,sBAAe,IAAA;AAAK,KACtB;AAEA,IAAA,IAAI,WAAA,EAAa;AACf,MAAA,QAAA,CAAS,aAAa,OAAO,CAAA;AAAA,IAC/B,CAAA,MAAO;AACL,MAAA,KAAA,CAAM,OAAO,CAAA;AAAA,IACf;AAEA,IAAA,aAAA,CAAc,KAAK,CAAA;AACnB,IAAA,cAAA,CAAe,IAAI,CAAA;AACnB,IAAA,WAAA,CAAY;AAAA,MACV,IAAA,EAAM,EAAA;AAAA,MACN,WAAA,EAAa,EAAA;AAAA,MACb,eAAA,EAAiB,EAAA;AAAA,MACjB,aAAA,EAAe,CAAA;AAAA,MACf,kBAAA,EAAoB,CAAA;AAAA,MACpB,SAAA,EAAW,EAAA;AAAA,MACX,OAAA,EAAS,EAAA;AAAA,MACT,QAAA,EAAU;AAAA,KACX,CAAA;AAAA,EACH,CAAA;AAEA,EAAA,MAAM,UAAA,GAAa,CAAC,IAAA,KAA6B;AAC/C,IAAA,WAAA,CAAY;AAAA,MACV,MAAM,IAAA,CAAK,IAAA;AAAA,MACX,aAAa,IAAA,CAAK,WAAA;AAAA,MAClB,iBAAiB,IAAA,CAAK,eAAA;AAAA,MACtB,eAAe,IAAA,CAAK,aAAA;AAAA,MACpB,oBAAoB,IAAA,CAAK,kBAAA;AAAA,MACzB,SAAA,EAAW,KAAK,SAAA,CAAU,WAAA,GAAc,KAAA,CAAM,GAAG,EAAE,CAAC,CAAA;AAAA,MACpD,OAAA,EAAS,IAAA,CAAK,OAAA,GAAU,IAAA,CAAK,OAAA,CAAQ,WAAA,EAAY,CAAE,KAAA,CAAM,GAAG,CAAA,CAAE,CAAC,CAAA,GAAI,EAAA;AAAA,MACnE,UAAU,IAAA,CAAK;AAAA,KAChB,CAAA;AACD,IAAA,cAAA,CAAe,KAAK,EAAE,CAAA;AACtB,IAAA,aAAA,CAAc,IAAI,CAAA;AAAA,EACpB,CAAA;AAEA,EAAA,MAAM,eAAe,MAAM;AACzB,IAAA,aAAA,CAAc,KAAK,CAAA;AACnB,IAAA,cAAA,CAAe,IAAI,CAAA;AACnB,IAAA,WAAA,CAAY;AAAA,MACV,IAAA,EAAM,EAAA;AAAA,MACN,WAAA,EAAa,EAAA;AAAA,MACb,eAAA,EAAiB,EAAA;AAAA,MACjB,aAAA,EAAe,CAAA;AAAA,MACf,kBAAA,EAAoB,CAAA;AAAA,MACpB,SAAA,EAAW,EAAA;AAAA,MACX,OAAA,EAAS,EAAA;AAAA,MACT,QAAA,EAAU;AAAA,KACX,CAAA;AAAA,EACH,CAAA;AAEA,EAAA,uBACEC,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,gCAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,wCAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,IAAA,EAAA,EAAG,WAAU,uBAAA,EAAA,EAAwB,sBAAoB,CAAA,kBAC1DA,MAAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,MAAM,aAAA,CAAc,IAAI,CAAA;AAAA,MACjC,SAAA,EAAU;AAAA,KAAA;AAAA,IACX;AAAA,GAGH,GAEC,UAAA,mBACCA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,WAAA,EAAA,kBACbA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,OAAA,aAAA,CAAC,OAAA,EAAA,EAAM,WAAU,8CAAA,EAAA,EAA+C,WAAS,CAAA,kBACzEA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,MAAA;AAAA,MACL,OAAO,QAAA,CAAS,IAAA;AAAA,MAChB,QAAA,EAAU,CAAA,CAAA,KAAK,WAAA,CAAY,CAAA,IAAA,MAAS,EAAE,GAAG,IAAA,EAAM,IAAA,EAAM,CAAA,CAAE,MAAA,CAAO,KAAA,EAAM,CAAE,CAAA;AAAA,MACtE,SAAA,EAAU;AAAA;AAAA,GAEd,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,WAAM,SAAA,EAAU,8CAAA,EAAA,EAA+C,aAAW,CAAA,kBAC3EA,MAAAA,CAAA,aAAA;AAAA,IAAC,UAAA;AAAA,IAAA;AAAA,MACC,OAAO,QAAA,CAAS,WAAA;AAAA,MAChB,QAAA,EAAU,CAAA,CAAA,KAAK,WAAA,CAAY,CAAA,IAAA,MAAS,EAAE,GAAG,IAAA,EAAM,WAAA,EAAa,CAAA,CAAE,MAAA,CAAO,KAAA,EAAM,CAAE,CAAA;AAAA,MAC7E,IAAA,EAAM,CAAA;AAAA,MACN,SAAA,EAAU;AAAA;AAAA,GAEd,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,WAAM,SAAA,EAAU,8CAAA,EAAA,EAA+C,kBAAgB,CAAA,kBAChFA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,MAAA;AAAA,MACL,OAAO,QAAA,CAAS,eAAA;AAAA,MAChB,QAAA,EAAU,CAAA,CAAA,KAAK,WAAA,CAAY,CAAA,IAAA,MAAS,EAAE,GAAG,IAAA,EAAM,eAAA,EAAiB,CAAA,CAAE,MAAA,CAAO,KAAA,EAAM,CAAE,CAAA;AAAA,MACjF,WAAA,EAAY,4CAAA;AAAA,MACZ,SAAA,EAAU;AAAA;AAAA,GAEd,mBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,4CACbA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,OAAA,aAAA,CAAC,OAAA,EAAA,EAAM,WAAU,8CAAA,EAAA,EAA+C,gBAAc,CAAA,kBAC9EA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,QAAA;AAAA,MACL,OAAO,QAAA,CAAS,aAAA;AAAA,MAChB,QAAA,EAAU,CAAA,CAAA,KACR,WAAA,CAAY,CAAA,IAAA,MAAS,EAAE,GAAG,IAAA,EAAM,aAAA,EAAe,UAAA,CAAW,CAAA,CAAE,MAAA,CAAO,KAAK,CAAA,IAAK,GAAE,CAAE,CAAA;AAAA,MAEnF,SAAA,EAAU;AAAA;AAAA,GAEd,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,WAAM,SAAA,EAAU,8CAAA,EAAA,EAA+C,qBAEhE,CAAA,kBACAA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,QAAA;AAAA,MACL,OAAO,QAAA,CAAS,kBAAA;AAAA,MAChB,QAAA,EAAU,CAAA,CAAA,KACR,WAAA,CAAY,CAAA,IAAA,MAAS;AAAA,QACnB,GAAG,IAAA;AAAA,QACH,kBAAA,EAAoB,UAAA,CAAW,CAAA,CAAE,MAAA,CAAO,KAAK,CAAA,IAAK;AAAA,OACpD,CAAE,CAAA;AAAA,MAEJ,SAAA,EAAU;AAAA;AAAA,GAEd,CACF,CAAA,kBAEAA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,wBAAA,EAAA,kBACbA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,OAAA,aAAA,CAAC,OAAA,EAAA,EAAM,WAAU,8CAAA,EAAA,EAA+C,YAAU,CAAA,kBAC1EA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,MAAA;AAAA,MACL,OAAO,QAAA,CAAS,SAAA;AAAA,MAChB,QAAA,EAAU,CAAA,CAAA,KAAK,WAAA,CAAY,CAAA,IAAA,MAAS,EAAE,GAAG,IAAA,EAAM,SAAA,EAAW,CAAA,CAAE,MAAA,CAAO,KAAA,EAAM,CAAE,CAAA;AAAA,MAC3E,SAAA,EAAU;AAAA;AAAA,GAEd,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,WAAM,SAAA,EAAU,8CAAA,EAAA,EAA+C,qBAEhE,CAAA,kBACAA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,MAAA;AAAA,MACL,OAAO,QAAA,CAAS,OAAA;AAAA,MAChB,QAAA,EAAU,CAAA,CAAA,KAAK,WAAA,CAAY,CAAA,IAAA,MAAS,EAAE,GAAG,IAAA,EAAM,OAAA,EAAS,CAAA,CAAE,MAAA,CAAO,KAAA,EAAM,CAAE,CAAA;AAAA,MACzE,SAAA,EAAU;AAAA;AAAA,GAEd,CACF,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,mBAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,UAAA;AAAA,MACL,EAAA,EAAG,UAAA;AAAA,MACH,SAAS,QAAA,CAAS,QAAA;AAAA,MAClB,QAAA,EAAU,CAAA,CAAA,KAAK,WAAA,CAAY,CAAA,IAAA,MAAS,EAAE,GAAG,IAAA,EAAM,QAAA,EAAU,CAAA,CAAE,MAAA,CAAO,OAAA,EAAQ,CAAE,CAAA;AAAA,MAC5E,SAAA,EAAU;AAAA;AAAA,qBAEZA,MAAAA,CAAA,cAAC,OAAA,EAAA,EAAM,OAAA,EAAQ,YAAW,SAAA,EAAU,uBAAA,EAAA,EAAwB,QAE5D,CACF,CAAA,kBAEAA,MAAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,4BAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,YAAA;AAAA,MACT,SAAA,EAAU;AAAA,KAAA;AAAA,IACX;AAAA,GAED,kBACAA,MAAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,YAAA;AAAA,MACT,QAAA,EAAU,CAAC,QAAA,CAAS,IAAA,IAAQ,CAAC,QAAA,CAAS,eAAA;AAAA,MACtC,SAAA,EAAU;AAAA,KAAA;AAAA,IAET,cAAc,aAAA,GAAgB;AAAA,GAEnC,CACF,CAAA,mBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,WAAA,EAAA,EACZ,KAAA,CAAM,MAAA,KAAW,CAAA,mBAChBA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,kBAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,oBAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAU,mBAAA;AAAA,MACV,IAAA,EAAK,MAAA;AAAA,MACL,MAAA,EAAO,cAAA;AAAA,MACP,OAAA,EAAQ;AAAA,KAAA;AAAA,oBAERA,MAAAA,CAAA,aAAA;AAAA,MAAC,MAAA;AAAA,MAAA;AAAA,QACC,aAAA,EAAc,OAAA;AAAA,QACd,cAAA,EAAe,OAAA;AAAA,QACf,WAAA,EAAa,CAAA;AAAA,QACb,CAAA,EAAE;AAAA;AAAA;AACJ,GAEJ,mBACAA,MAAAA,CAAA,cAAC,GAAA,EAAA,EAAE,SAAA,EAAU,2BAAwB,yBAAuB,CAAA,kBAC5DA,MAAAA,CAAA,aAAA,CAAC,OAAE,SAAA,EAAU,4BAAA,EAAA,EAA6B,4DAE1C,CACF,CAAA,GAEA,KAAA,CAAM,GAAA,CAAI,CAAA,IAAA,qBACRA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,KAAK,IAAA,CAAK,EAAA,EAAI,WAAU,uBAAA,EAAA,kBAC3BA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,mCAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,2BAAA,EAAA,EAA6B,IAAA,CAAK,IAAK,CAAA,kBACrDA,OAAA,aAAA,CAAC,GAAA,EAAA,EAAE,WAAU,uBAAA,EAAA,EAAyB,IAAA,CAAK,WAAY,CAAA,kBACvDA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,4BAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,MAAA,EAAA,EAAO,WAAA,EAAU,IAAA,CAAK,eAAgB,CAAA,kBACtDA,OAAA,aAAA,CAAC,MAAA,EAAA,EAAK,WAAU,MAAA,EAAA,EAAO,aAAA,EAAY,KAAK,aAAc,CAAA,kBACtDA,MAAAA,CAAA,aAAA,CAAC,UAAK,SAAA,EAAU,MAAA,EAAA,EAAO,oBAAiB,IAAA,CAAK,kBAAmB,CAAA,kBAChEA,MAAAA,CAAA,aAAA;AAAA,IAAC,MAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,CAAA,0BAAA,EAA6B,IAAA,CAAK,QAAA,GAAW,gCAAgC,2BAA2B,CAAA;AAAA,KAAA;AAAA,IAElH,IAAA,CAAK,WAAW,QAAA,GAAW;AAAA,GAEhC,CACF,CAAA,kBACAA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,6BAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,MAAM,UAAA,CAAW,IAAI,CAAA;AAAA,MAC9B,SAAA,EAAU;AAAA,KAAA;AAAA,IACX;AAAA,GAED,kBACAA,MAAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,MAAM,QAAA,CAAS,IAAA,CAAK,EAAE,CAAA;AAAA,MAC/B,SAAA,EAAU;AAAA,KAAA;AAAA,IACX;AAAA,GAGH,CACF,CACF,CACD,CAEL,CAEJ,CAAA;AAEJ;ACvRO,SAAS,cAAA,CAAe,EAAE,IAAA,EAAM,QAAA,EAAS,EAAwB;AACtE,EAAA,uBACEA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,gCAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,kBAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,IAAA,EAAA,EAAG,WAAU,uCAAA,EAAA,EAAyC,IAAA,CAAK,IAAK,CAAA,kBACjEA,OAAA,aAAA,CAAC,GAAA,EAAA,EAAE,WAAU,uBAAA,EAAA,EAAyB,IAAA,CAAK,WAAY,CACzD,CAAA,kBAEAA,MAAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,sDAAA,EAAA,EACZ,KAAK,KAAA,CAAM,GAAA,CAAI,CAAC,IAAA,EAAM,KAAA,qBACrBA,MAAAA,CAAA,aAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,KAAK,IAAA,CAAK,EAAA;AAAA,MACV,SAAA,EAAW,CAAA,+BAAA,EACT,KAAA,KAAU,CAAA,GAAI,yCAAyC,iBACzD,CAAA;AAAA,KAAA;AAAA,IAEC,KAAA,KAAU,CAAA,oBACTA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,qDAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,mEAAA,EAAA,EAAoE,cAEpF,CACF,CAAA;AAAA,oBAGFA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,sCACbA,MAAAA,CAAA,aAAA,CAAC,IAAA,EAAA,EAAG,WAAU,0CAAA,EAAA,EAA4C,IAAA,CAAK,IAAK,CAAA,kBACpEA,OAAA,aAAA,CAAC,GAAA,EAAA,EAAE,SAAA,EAAU,4BAAA,EAAA,EAA8B,KAAK,WAAY,CAAA,kBAE5DA,MAAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,MAAA,EAAA,kBACbA,MAAAA,CAAA,cAAC,MAAA,EAAA,EAAK,SAAA,EAAU,sCACb,IAAA,CAAK,KAAA,KAAU,IAAI,MAAA,GAAS,CAAA,CAAA,EAAI,IAAA,CAAK,KAAK,EAC7C,CAAA,EACC,IAAA,CAAK,QAAQ,CAAA,oBACZA,OAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,oBAAA,EAAA,EAAqB,KACjC,IAAA,CAAK,QAAA,KAAa,UAAU,OAAA,GAAU,MAC1C,CAEJ,CAAA,EAEC,IAAA,CAAK,KAAA,GAAQ,CAAA,IAAK,KAAK,aAAA,GAAgB,CAAA,oBACtCA,MAAAA,CAAA,aAAA,CAAC,OAAE,SAAA,EAAU,uBAAA,EAAA,EAAwB,eAAA,EACrB,IAAA,CAAK,eAAc,GAAA,EAAE,IAAA,CAAK,aAAa,OAAA,GAAU,QAAA,GAAW,OAC5E,CAEJ,CAAA;AAAA,oBAEAA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,gBAAA,EAAA,EACZ,IAAA,CAAK,SAAS,GAAA,CAAI,CAAC,SAAS,YAAA,qBAC3BA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,KAAK,YAAA,EAAc,SAAA,EAAU,kBAAA,EAAA,kBAChCA,MAAAA,CAAA,aAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAU,kDAAA;AAAA,QACV,IAAA,EAAK,cAAA;AAAA,QACL,OAAA,EAAQ;AAAA,OAAA;AAAA,sBAERA,MAAAA,CAAA,aAAA;AAAA,QAAC,MAAA;AAAA,QAAA;AAAA,UACC,QAAA,EAAS,SAAA;AAAA,UACT,CAAA,EAAE,oHAAA;AAAA,UACF,QAAA,EAAS;AAAA;AAAA;AACX,KACF,kBACAA,MAAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,WAAU,uBAAA,EAAA,EAAyB,OAAQ,CACnD,CACD,CACH,CAAA;AAAA,oBAEAA,MAAAA,CAAA,aAAA;AAAA,MAAC,QAAA;AAAA,MAAA;AAAA,QACC,SAAA,EAAW,CAAA,0DAAA,EACT,KAAA,KAAU,CAAA,GACN,6CACA,6CACN,CAAA;AAAA,OAAA;AAAA,MAEC,IAAA,CAAK,KAAA,KAAU,CAAA,GAAI,aAAA,GAAgB;AAAA;AACtC,GAEH,CACH,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,kBAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,GAAA,EAAA,EAAE,WAAU,uBAAA,EAAA,EAAwB,kEAErC,CACF,CACF,CAAA;AAEJ;ACpFO,SAAS,gBAAA,CAAiB,EAAE,SAAA,EAAW,QAAA,EAAU,UAAS,EAA0B;AACzF,EAAA,MAAM,CAAC,gBAAA,EAAkB,mBAAmB,CAAA,GAAID,SAAiB,KAAK,CAAA;AACtE,EAAA,MAAM,CAAC,WAAA,EAAa,cAAc,CAAA,GAAIA,SAAS,EAAE,CAAA;AAEjD,EAAA,MAAM,UAAA,GAAa,CAAC,KAAA,EAAO,GAAG,IAAI,GAAA,CAAI,SAAA,CAAU,GAAA,CAAI,CAAA,CAAA,KAAK,CAAA,CAAE,QAAQ,CAAC,CAAC,CAAA;AAErE,EAAA,MAAM,iBAAA,GAAoB,SAAA,CAAU,MAAA,CAAO,CAAA,QAAA,KAAY;AACrD,IAAA,MAAM,eAAA,GAAkB,gBAAA,KAAqB,KAAA,IAAS,QAAA,CAAS,QAAA,KAAa,gBAAA;AAC5E,IAAA,MAAM,gBACJ,QAAA,CAAS,IAAA,CAAK,WAAA,EAAY,CAAE,SAAS,WAAA,CAAY,WAAA,EAAa,CAAA,IAC9D,SAAS,WAAA,CAAY,WAAA,GAAc,QAAA,CAAS,WAAA,CAAY,aAAa,CAAA;AACvE,IAAA,OAAO,eAAA,IAAmB,aAAA;AAAA,EAC5B,CAAC,CAAA;AAED,EAAA,uBACEC,MAAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,gCAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,0BACbA,MAAAA,CAAA,cAAC,IAAA,EAAA,EAAG,SAAA,EAAU,8CAA2C,mBAAiB,CAAA,kBAC1EA,MAAAA,CAAA,cAAC,GAAA,EAAA,EAAE,SAAA,EAAU,mBAAgB,6DAA2D,CAC1F,mBAGAA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,gBAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,MAAA;AAAA,MACL,WAAA,EAAY,qBAAA;AAAA,MACZ,KAAA,EAAO,WAAA;AAAA,MACP,QAAA,EAAU,CAAA,CAAA,KAAK,cAAA,CAAe,CAAA,CAAE,OAAO,KAAK,CAAA;AAAA,MAC5C,SAAA,EAAU;AAAA;AAAA,GAEd,CAAA,kBAEAA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,sBAAA,EAAA,EACZ,UAAA,CAAW,GAAA,CAAI,CAAA,QAAA,qBACdA,MAAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,GAAA,EAAK,QAAA;AAAA,MACL,OAAA,EAAS,MAAM,mBAAA,CAAoB,QAAQ,CAAA;AAAA,MAC3C,SAAA,EAAW,CAAA,6DAAA,EACT,gBAAA,KAAqB,QAAA,GACjB,2BACA,6CACN,CAAA;AAAA,KAAA;AAAA,IAEC,QAAA,KAAa,QAAQ,eAAA,GAAkB;AAAA,GAE3C,CACH,CACF,CAAA,kBAGAA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,2DAAA,EAAA,EACZ,iBAAA,CAAkB,GAAA,CAAI,CAAA,QAAA,qBACrBA,MAAAA,CAAA,aAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,KAAK,QAAA,CAAS,EAAA;AAAA,MACd,OAAA,EAAS,MAAM,QAAA,CAAS,QAAQ,CAAA;AAAA,MAChC,SAAA,EAAU;AAAA,KAAA;AAAA,oBAEVA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,MAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,oCAAkC,QAAA,CAAS,IAAK,CAAA,kBAC9DA,MAAAA,CAAA,aAAA,CAAC,OAAE,SAAA,EAAU,uBAAA,EAAA,EAAyB,QAAA,CAAS,WAAY,CAC7D,CAAA;AAAA,oBAEAA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,MAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,wDAAA,EAAA,EACZ,QAAA,CAAS,OACZ,CACF,CAAA;AAAA,oBAEAA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,mCAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,yDACb,QAAA,CAAS,QACZ,mBACAA,MAAAA,CAAA,cAAC,QAAA,EAAA,EAAO,SAAA,EAAU,uDAAA,EAAA,EAAwD,qBAE1E,CACF;AAAA,GAEH,CACH,CAAA,EAEC,kBAAkB,MAAA,KAAW,CAAA,oBAC5BA,MAAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,kBAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,oBAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAU,mBAAA;AAAA,MACV,IAAA,EAAK,MAAA;AAAA,MACL,MAAA,EAAO,cAAA;AAAA,MACP,OAAA,EAAQ;AAAA,KAAA;AAAA,oBAERA,MAAAA,CAAA,aAAA;AAAA,MAAC,MAAA;AAAA,MAAA;AAAA,QACC,aAAA,EAAc,OAAA;AAAA,QACd,cAAA,EAAe,OAAA;AAAA,QACf,WAAA,EAAa,CAAA;AAAA,QACb,CAAA,EAAE;AAAA;AAAA;AACJ,GAEJ,mBACAA,MAAAA,CAAA,cAAC,GAAA,EAAA,EAAE,SAAA,EAAU,uBAAA,EAAA,EAAwB,oBAAkB,CAAA,kBACvDA,OAAA,aAAA,CAAC,GAAA,EAAA,EAAE,WAAU,4BAAA,EAAA,EAA6B,sCAAoC,CAChF,CAAA,kBAIFA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,mCACbA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,iCACbA,MAAAA,CAAA,aAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,gCAAA,EAAA,EAAiC,0BAAwB,CAAA,kBACvEA,OAAA,aAAA,CAAC,GAAA,EAAA,EAAE,WAAU,4BAAA,EAAA,EAA6B,2CAAyC,CAAA,kBACnFA,MAAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,QAAA;AAAA,MACT,SAAA,EAAU;AAAA,KAAA;AAAA,IACX;AAAA,GAGH,CACF,CACF,CAAA;AAEJ;ACvHO,SAAS,iBAAA,CAAkB,EAAE,IAAA,EAAM,QAAA,EAAS,EAA2B;AAC5E,EAAA,MAAM,CAAC,MAAA,EAAQ,SAAS,CAAA,GAAID,QAAAA,CAAS;AAAA,IACnC,cAAA,EAAgB,CAAA;AAAA,IAChB,aAAA,EAAe,CAAA;AAAA,IACf,SAAA,EAAW,CAAA;AAAA,IACX,UAAA,EAAY;AAAA,GACb,CAAA;AAED,EAAA,MAAM,YAAA,GAAe,QAAQ,MAAM;AACjC,IAAA,MAAM,EAAE,cAAA,EAAgB,aAAA,EAAe,SAAA,EAAW,YAAW,GAAI,MAAA;AAGjE,IAAA,MAAM,WAAA,GAAc,IAAA,CAAK,KAAA,CAAM,GAAA,CAAI,CAAA,IAAA,KAAQ;AACzC,MAAA,MAAM,eAAe,IAAA,CAAK,KAAA;AAC1B,MAAA,MAAM,kBAAkB,IAAA,CAAK,KAAA,CAAM,iBAAiB,CAAA,GAAI,IAAA,CAAK,MAAM,MAAA,CAAO,CAAA;AAC1E,MAAA,MAAM,yBAAyB,eAAA,GAAkB,YAAA;AACjD,MAAA,MAAM,wBAAwB,sBAAA,GAAyB,EAAA;AAGvD,MAAA,MAAM,YAAA,GAAe,mBAAmB,SAAA,GAAY,GAAA,CAAA;AACpD,MAAA,MAAM,mBAAA,GAAsB,mBAAmB,UAAA,GAAa,GAAA,CAAA;AAC5D,MAAA,MAAM,YAAY,mBAAA,GAAsB,YAAA;AAExC,MAAA,OAAO;AAAA,QACL,IAAA;AAAA,QACA,eAAA;AAAA,QACA,sBAAA;AAAA,QACA,qBAAA;AAAA,QACA,YAAA;AAAA,QACA,mBAAA;AAAA,QACA;AAAA,OACF;AAAA,IACF,CAAC,CAAA;AAGD,IAAA,MAAM,sBAAsB,WAAA,CAAY,MAAA;AAAA,MACtC,CAAC,GAAA,EAAK,IAAA,KAAS,GAAA,GAAM,IAAA,CAAK,sBAAA;AAAA,MAC1B;AAAA,KACF;AACA,IAAA,MAAM,qBAAqB,mBAAA,GAAsB,EAAA;AACjD,IAAA,MAAM,iBAAA,GAAoB,YAAY,MAAA,CAAO,CAAC,KAAK,IAAA,KAAS,GAAA,GAAM,IAAA,CAAK,YAAA,EAAc,CAAC,CAAA;AACtF,IAAA,MAAM,2BAA2B,WAAA,CAAY,MAAA;AAAA,MAC3C,CAAC,GAAA,EAAK,IAAA,KAAS,GAAA,GAAM,IAAA,CAAK,mBAAA;AAAA,MAC1B;AAAA,KACF;AACA,IAAA,MAAM,iBAAiB,wBAAA,GAA2B,iBAAA;AAElD,IAAA,OAAO;AAAA,MACL,WAAA;AAAA,MACA,mBAAA;AAAA,MACA,kBAAA;AAAA,MACA,iBAAA;AAAA,MACA,wBAAA;AAAA,MACA;AAAA,KACF;AAAA,EACF,CAAA,EAAG,CAAC,MAAA,EAAQ,IAAA,CAAK,KAAK,CAAC,CAAA;AAEvB,EAAA,MAAM,iBAAA,GAAoB,CAAC,KAAA,EAAe,KAAA,KAAkB;AAC1D,IAAA,SAAA,CAAU,CAAA,IAAA,MAAS,EAAE,GAAG,IAAA,EAAM,CAAC,KAAK,GAAG,OAAM,CAAE,CAAA;AAAA,EACjD,CAAA;AAEA,EAAA,uBACEC,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,gCAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,4BAAA,EAAA,EAA6B,oBAAkB,mBAG7DA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,gBAAA,EAAA,kBACbA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,WAAM,SAAA,EAAU,8CAAA,EAAA,EAA+C,yBAEhE,CAAA,kBACAA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,QAAA;AAAA,MACL,OAAO,MAAA,CAAO,cAAA;AAAA,MACd,QAAA,EAAU,OAAK,iBAAA,CAAkB,gBAAA,EAAkB,WAAW,CAAA,CAAE,MAAA,CAAO,KAAK,CAAA,IAAK,CAAC,CAAA;AAAA,MAClF,SAAA,EAAU;AAAA;AAAA,GAEd,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,WAAM,SAAA,EAAU,8CAAA,EAAA,EAA+C,gBAAc,CAAA,kBAC9EA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,QAAA;AAAA,MACL,OAAO,MAAA,CAAO,aAAA;AAAA,MACd,QAAA,EAAU,OAAK,iBAAA,CAAkB,eAAA,EAAiB,SAAS,CAAA,CAAE,MAAA,CAAO,KAAK,CAAA,IAAK,CAAC,CAAA;AAAA,MAC/E,SAAA,EAAU;AAAA;AAAA,GAEd,mBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,4CACbA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,OAAA,aAAA,CAAC,OAAA,EAAA,EAAM,WAAU,8CAAA,EAAA,EAA+C,gBAAc,CAAA,kBAC9EA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,QAAA;AAAA,MACL,OAAO,MAAA,CAAO,SAAA;AAAA,MACd,QAAA,EAAU,OAAK,iBAAA,CAAkB,WAAA,EAAa,WAAW,CAAA,CAAE,MAAA,CAAO,KAAK,CAAA,IAAK,CAAC,CAAA;AAAA,MAC7E,SAAA,EAAU;AAAA;AAAA,GAEd,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,WAAM,SAAA,EAAU,8CAAA,EAAA,EAA+C,iBAAe,CAAA,kBAC/EA,MAAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA,EAAK,QAAA;AAAA,MACL,OAAO,MAAA,CAAO,UAAA;AAAA,MACd,QAAA,EAAU,OAAK,iBAAA,CAAkB,YAAA,EAAc,WAAW,CAAA,CAAE,MAAA,CAAO,KAAK,CAAA,IAAK,CAAC,CAAA;AAAA,MAC9E,SAAA,EAAU;AAAA;AAAA,GAEd,CACF,CACF,CAAA,kBAGAA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,WAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,2BAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,oCAAiC,mBAAiB,CAAA,kBAChEA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,gCAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,UAAK,SAAA,EAAU,eAAA,EAAA,EAAgB,UAAQ,CAAA,kBACxCA,MAAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,sBAAmB,GAAA,EAC/B,YAAA,CAAa,mBAAA,CAAoB,cAAA,EACrC,CACF,CAAA,kBACAA,MAAAA,CAAA,aAAA,CAAC,6BACCA,MAAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,WAAU,eAAA,EAAA,EAAgB,SAAO,CAAA,kBACvCA,OAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,kBAAA,EAAA,EAAmB,KAC/B,YAAA,CAAa,kBAAA,CAAmB,gBACpC,CACF,CACF,CACF,CAAA,kBAEAA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,2BAAA,EAAA,kBACbA,OAAA,aAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,gCAAA,EAAA,EAAiC,kBAAgB,CAAA,kBAC/DA,OAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,gCAAA,EAAA,kBACbA,MAAAA,CAAA,aAAA,CAAC,6BACCA,MAAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,WAAU,eAAA,EAAA,EAAgB,gBAAc,CAAA,kBAC9CA,OAAA,aAAA,CAAC,MAAA,EAAA,EAAK,WAAU,kBAAA,EAAA,EAAoB,YAAA,CAAa,kBAAkB,OAAA,CAAQ,CAAC,CAAE,CAChF,mBACAA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAU,mBAAgB,gBAAc,CAAA,kBAC9CA,MAAAA,CAAA,aAAA,CAAC,UAAK,SAAA,EAAU,kBAAA,EAAA,EACb,YAAA,CAAa,wBAAA,CAAyB,QAAQ,CAAC,CAClD,CACF,CAAA,kBACAA,OAAA,aAAA,CAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,cAAC,MAAA,EAAA,EAAK,SAAA,EAAU,mBAAgB,aAAW,CAAA,kBAC3CA,MAAAA,CAAA,aAAA;AAAA,IAAC,MAAA;AAAA,IAAA;AAAA,MACC,WAAW,CAAA,iBAAA,EAAoB,YAAA,CAAa,cAAA,IAAkB,CAAA,GAAI,mBAAmB,cAAc,CAAA;AAAA,KAAA;AAAA,IAElG,YAAA,CAAa,cAAA,IAAkB,CAAA,GAAI,GAAA,GAAM,EAAA;AAAA,IACzC,YAAA,CAAa,cAAA,CAAe,OAAA,CAAQ,CAAC;AAAA,GAE1C,CACF,CACF,CAAA,kBAGAA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,QAAG,SAAA,EAAU,gCAAA,EAAA,EAAiC,gBAAc,CAAA,kBAC7DA,MAAAA,CAAA,cAAC,KAAA,EAAA,EAAI,SAAA,EAAU,WAAA,EAAA,EACZ,YAAA,CAAa,WAAA,CAAY,GAAA,CAAI,CAAC,IAAA,EAAM,KAAA,qBACnCA,MAAAA,CAAA,aAAA,CAAC,SAAI,GAAA,EAAK,IAAA,CAAK,IAAA,CAAK,EAAA,EAAI,SAAA,EAAU,2CAAA,EAAA,kBAChCA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,IAAA,kBACCA,MAAAA,CAAA,aAAA,CAAC,UAAK,SAAA,EAAU,aAAA,EAAA,EAAe,IAAA,CAAK,IAAA,CAAK,IAAK,CAAA,kBAC9CA,MAAAA,CAAA,aAAA,CAAC,UAAK,SAAA,EAAU,oBAAA,EAAA,EAAqB,KACjC,IAAA,CAAK,eAAA,CAAgB,OAAA,CAAQ,CAAC,CAAA,EAAE,aACpC,CACF,CAAA,kBACAA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,gCACbA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,aAAA,EAAA,EAAc,KACzB,IAAA,CAAK,sBAAA,CAAuB,gBAAe,EAAE,KACjD,mBACAA,MAAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,eAAA,EAAA,EAAgB,KAC3B,IAAA,CAAK,qBAAA,CAAsB,cAAA,EAAe,EAAE,KAChD,CACF,CACF,CACD,CACH,CACF,CACF,CACF,CAAA;AAEJ;;;ACrLO,SAAS,oBAAA,CACd,OACA,MAAA,EACoB;AACpB,EAAA,QAAQ,OAAO,IAAA;AAAM,IACnB,KAAK,UAAA;AACH,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,aAAa,MAAA,CAAO,OAAA;AAAA,QACpB,YAAA,EAAc,IAAA;AAAA,QACd,SAAA,EAAW,KAAA;AAAA,QACX,aAAA,EAAe;AAAA,OACjB;AAAA,IAEF,KAAK,UAAA;AACH,MAAA,IAAI,CAAC,KAAA,CAAM,WAAA,EAAa,OAAO,KAAA;AAE/B,MAAA,MAAM,OAAA,GAAU;AAAA,QACd,GAAG,MAAA,CAAO,OAAA;AAAA,QACV,SAAA,EAAW,KAAA,CAAM,WAAA,CAAY,KAAA,CAAM;AAAA,OACrC;AAEA,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,WAAA,EAAa;AAAA,UACX,GAAG,KAAA,CAAM,WAAA;AAAA,UACT,OAAO,CAAC,GAAG,KAAA,CAAM,WAAA,CAAY,OAAO,OAAO,CAAA;AAAA,UAC3C,SAAA,sBAAe,IAAA;AAAK;AACtB,OACF;AAAA,IAEF,KAAK,aAAA;AACH,MAAA,IAAI,CAAC,KAAA,CAAM,WAAA,EAAa,OAAO,KAAA;AAE/B,MAAA,MAAM,YAAA,GAAe,KAAA,CAAM,WAAA,CAAY,KAAA,CAAM,GAAA;AAAA,QAAI,CAAA,IAAA,KAC/C,IAAA,CAAK,EAAA,KAAO,MAAA,CAAO,OAAA,CAAQ,EAAA,GACvB,EAAE,GAAG,IAAA,EAAM,GAAG,MAAA,CAAO,OAAA,CAAQ,SAAQ,GACrC;AAAA,OACN;AAEA,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,WAAA,EAAa;AAAA,UACX,GAAG,KAAA,CAAM,WAAA;AAAA,UACT,KAAA,EAAO,YAAA;AAAA,UACP,SAAA,sBAAe,IAAA;AAAK,SACtB;AAAA,QACA,cAAc,KAAA,CAAM,YAAA,EAAc,EAAA,KAAO,MAAA,CAAO,QAAQ,EAAA,GACpD,EAAE,GAAG,KAAA,CAAM,cAAc,GAAG,MAAA,CAAO,OAAA,CAAQ,OAAA,KAC3C,KAAA,CAAM;AAAA,OACZ;AAAA,IAEF,KAAK,aAAA;AACH,MAAA,IAAI,CAAC,KAAA,CAAM,WAAA,EAAa,OAAO,KAAA;AAE/B,MAAA,MAAM,aAAA,GAAgB,KAAA,CAAM,WAAA,CAAY,KAAA,CAAM,MAAA;AAAA,QAC5C,CAAA,IAAA,KAAQ,IAAA,CAAK,EAAA,KAAO,MAAA,CAAO;AAAA,OAC7B;AAEA,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,WAAA,EAAa;AAAA,UACX,GAAG,KAAA,CAAM,WAAA;AAAA,UACT,KAAA,EAAO,aAAA;AAAA,UACP,SAAA,sBAAe,IAAA;AAAK,SACtB;AAAA,QACA,cAAc,KAAA,CAAM,YAAA,EAAc,OAAO,MAAA,CAAO,OAAA,GAC5C,OACA,KAAA,CAAM;AAAA,OACZ;AAAA,IAEF,KAAK,eAAA;AACH,MAAA,IAAI,CAAC,KAAA,CAAM,WAAA,EAAa,OAAO,KAAA;AAE/B,MAAA,MAAM,iBAAiB,MAAA,CAAO,OAAA,CAC3B,GAAA,CAAI,CAAC,QAAQ,KAAA,KAAU;AACtB,QAAA,MAAM,IAAA,GAAO,MAAM,WAAA,CAAa,KAAA,CAAM,KAAK,CAAA,CAAA,KAAK,CAAA,CAAE,OAAO,MAAM,CAAA;AAC/D,QAAA,OAAO,OAAO,EAAE,GAAG,IAAA,EAAM,SAAA,EAAW,OAAM,GAAI,IAAA;AAAA,MAChD,CAAC,CAAA,CACA,MAAA,CAAO,OAAO,CAAA;AAEjB,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,WAAA,EAAa;AAAA,UACX,GAAG,KAAA,CAAM,WAAA;AAAA,UACT,KAAA,EAAO,cAAA;AAAA,UACP,SAAA,sBAAe,IAAA;AAAK;AACtB,OACF;AAAA,IAEF,KAAK,mBAAA;AACH,MAAA,IAAI,CAAC,OAAO,OAAA,EAAS;AACnB,QAAA,OAAO;AAAA,UACL,GAAG,KAAA;AAAA,UACH,YAAA,EAAc;AAAA,SAChB;AAAA,MACF;AAEA,MAAA,MAAM,YAAA,GAAe,KAAA,CAAM,WAAA,EAAa,KAAA,CAAM,IAAA;AAAA,QAC5C,CAAA,IAAA,KAAQ,IAAA,CAAK,EAAA,KAAO,MAAA,CAAO;AAAA,OAC7B;AAEA,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,cAAc,YAAA,IAAgB;AAAA,OAChC;AAAA,IAEF,KAAK,kBAAA;AACH,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,SAAA,EAAW,CAAC,KAAA,CAAM,SAAA;AAAA,QAClB,YAAA,EAAc,KAAA,CAAM,SAAA,GAAY,IAAA,GAAO,KAAA,CAAM;AAAA,OAC/C;AAAA,IAEF,KAAK,qBAAA;AACH,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,aAAA,EAAe,CAAC,KAAA,CAAM,aAAA;AAAA,QACtB,YAAA,EAAc,KAAA,CAAM,aAAA,GAAgB,IAAA,GAAO,KAAA,CAAM;AAAA,OACnD;AAAA,IAEF,KAAK,eAAA;AACH,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,cAAc,MAAA,CAAO;AAAA,OACvB;AAAA,IAEF,KAAK,cAAA;AACH,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,YAAA,EAAc;AAAA,OAChB;AAAA,IAEF,KAAK,yBAAA;AACH,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,qBAAqB,CAAC,GAAG,KAAA,CAAM,mBAAA,EAAqB,OAAO,OAAO;AAAA,OACpE;AAAA,IAEF,KAAK,4BAAA;AACH,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,mBAAA,EAAqB,MAAM,mBAAA,CAAoB,GAAA;AAAA,UAAI,CAAA,IAAA,KACjD,IAAA,CAAK,EAAA,KAAO,MAAA,CAAO,OAAA,CAAQ,EAAA,GACvB,EAAE,GAAG,IAAA,EAAM,GAAG,MAAA,CAAO,OAAA,CAAQ,SAAQ,GACrC;AAAA;AACN,OACF;AAAA,IAEF,KAAK,4BAAA;AACH,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,mBAAA,EAAqB,MAAM,mBAAA,CAAoB,MAAA;AAAA,UAC7C,CAAA,IAAA,KAAQ,IAAA,CAAK,EAAA,KAAO,MAAA,CAAO;AAAA;AAC7B,OACF;AAAA,IAEF,KAAK,cAAA;AACH,MAAA,IAAI,CAAC,KAAA,CAAM,WAAA,EAAa,OAAO,KAAA;AAE/B,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,SAAS,CAAC,GAAG,KAAA,CAAM,OAAA,EAAS,MAAM,WAAW,CAAA;AAAA,QAC7C,WAAW,CAAC,GAAG,KAAA,CAAM,SAAA,EAAW,MAAM,WAAW,CAAA;AAAA,QACjD,WAAW;AAAC,OACd;AAAA,IAEF,KAAK,MAAA;AACH,MAAA,IAAI,KAAA,CAAM,SAAA,CAAU,MAAA,KAAW,CAAA,EAAG,OAAO,KAAA;AAEzC,MAAA,MAAM,eAAe,KAAA,CAAM,SAAA,CAAU,KAAA,CAAM,SAAA,CAAU,SAAS,CAAC,CAAA;AAC/D,MAAA,MAAM,YAAA,GAAe,KAAA,CAAM,SAAA,CAAU,KAAA,CAAM,GAAG,EAAE,CAAA;AAEhD,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,WAAA,EAAa,YAAA;AAAA,QACb,SAAA,EAAW,YAAA;AAAA,QACX,WAAW,CAAC,KAAA,CAAM,WAAA,EAAc,GAAG,MAAM,SAAS,CAAA;AAAA,QAClD,YAAA,EAAc;AAAA,OAChB;AAAA,IAEF,KAAK,MAAA;AACH,MAAA,IAAI,KAAA,CAAM,SAAA,CAAU,MAAA,KAAW,CAAA,EAAG,OAAO,KAAA;AAEzC,MAAA,MAAM,QAAA,GAAW,KAAA,CAAM,SAAA,CAAU,CAAC,CAAA;AAClC,MAAA,MAAM,YAAA,GAAe,KAAA,CAAM,SAAA,CAAU,KAAA,CAAM,CAAC,CAAA;AAE5C,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,WAAA,EAAa,QAAA;AAAA,QACb,WAAW,CAAC,GAAG,KAAA,CAAM,SAAA,EAAW,MAAM,WAAY,CAAA;AAAA,QAClD,SAAA,EAAW,YAAA;AAAA,QACX,YAAA,EAAc;AAAA,OAChB;AAAA,IAEF,KAAK,OAAA;AACH,MAAA,OAAO;AAAA,QACL,GAAG,KAAA;AAAA,QACH,WAAA,EAAa,MAAM,OAAA,CAAQ,MAAA,GAAS,IAAI,KAAA,CAAM,OAAA,CAAQ,CAAC,CAAA,GAAI,IAAA;AAAA,QAC3D,YAAA,EAAc,IAAA;AAAA,QACd,SAAA,EAAW,KAAA;AAAA,QACX,aAAA,EAAe,KAAA;AAAA,QACf,YAAA,EAAc,IAAA;AAAA,QACd,WAAW,EAAC;AAAA,QACZ,WAAW;AAAC,OACd;AAAA,IAEF;AACE,MAAA,OAAO,KAAA;AAAA;AAEb;AAMO,SAAS,eAAA,GAA+B;AAC7C,EAAA,OAAO;AAAA,IACL,EAAA,EAAI,CAAA,KAAA,EAAQ,IAAA,CAAK,GAAA,EAAK,CAAA,CAAA;AAAA,IACtB,IAAA,EAAM,kBAAA;AAAA,IACN,WAAA,EAAa,oBAAA;AAAA,IACb,OAAO,EAAC;AAAA,IACR,QAAA,EAAU,KAAA;AAAA,IACV,QAAA,EAAU,IAAA;AAAA,IACV,OAAA,EAAS,OAAA;AAAA,IACT,SAAA,sBAAe,IAAA,EAAK;AAAA,IACpB,SAAA,sBAAe,IAAA;AAAK,GACtB;AACF;AAEO,SAAS,eAAA,GAA+B;AAC7C,EAAA,OAAO;AAAA,IACL,EAAA,EAAI,CAAA,KAAA,EAAQ,IAAA,CAAK,GAAA,EAAK,CAAA,CAAA;AAAA,IACtB,IAAA,EAAM,UAAA;AAAA,IACN,WAAA,EAAa,2BAAA;AAAA,IACb,KAAA,EAAO,CAAA;AAAA,IACP,QAAA,EAAU,KAAA;AAAA,IACV,QAAA,EAAU,OAAA;AAAA,IACV,aAAA,EAAe,CAAA;AAAA,IACf,UAAU,EAAC;AAAA,IACX,SAAA,EAAW,KAAA;AAAA,IACX,QAAA,EAAU,IAAA;AAAA,IACV,SAAA,EAAW;AAAA,GACb;AACF;AAEO,SAAS,aAAa,IAAA,EAA6B;AACxD,EAAA,MAAM,SAAmB,EAAC;AAE1B,EAAA,IAAI,CAAC,IAAA,CAAK,IAAA,CAAK,IAAA,EAAK,EAAG;AACrB,IAAA,MAAA,CAAO,KAAK,uBAAuB,CAAA;AAAA,EACrC;AAEA,EAAA,IAAI,IAAA,CAAK,KAAA,CAAM,MAAA,KAAW,CAAA,EAAG;AAC3B,IAAA,MAAA,CAAO,KAAK,uCAAuC,CAAA;AAAA,EACrD;AAEA,EAAA,IAAA,CAAK,KAAA,CAAM,OAAA,CAAQ,CAAC,IAAA,EAAM,KAAA,KAAU;AAClC,IAAA,IAAI,CAAC,IAAA,CAAK,IAAA,CAAK,IAAA,EAAK,EAAG;AACrB,MAAA,MAAA,CAAO,IAAA,CAAK,CAAA,KAAA,EAAQ,KAAA,GAAQ,CAAC,CAAA,kBAAA,CAAoB,CAAA;AAAA,IACnD;AAEA,IAAA,IAAI,IAAA,CAAK,QAAQ,CAAA,EAAG;AAClB,MAAA,MAAA,CAAO,IAAA,CAAK,CAAA,KAAA,EAAQ,KAAA,GAAQ,CAAC,CAAA,0BAAA,CAA4B,CAAA;AAAA,IAC3D;AAEA,IAAA,IAAI,IAAA,CAAK,iBAAiB,CAAA,EAAG;AAC3B,MAAA,MAAA,CAAO,IAAA,CAAK,CAAA,KAAA,EAAQ,KAAA,GAAQ,CAAC,CAAA,iCAAA,CAAmC,CAAA;AAAA,IAClE;AAAA,EACF,CAAC,CAAA;AAED,EAAA,OAAO,MAAA;AACT;AAEO,SAAS,qBAAqB,IAAA,EAMnC;AACA,EAAA,MAAM,cAAc,IAAA,CAAK,KAAA,CAAM,MAAA,CAAO,CAAA,IAAA,KAAQ,KAAK,QAAQ,CAAA;AAC3D,EAAA,MAAM,MAAA,GAAS,WAAA,CAAY,GAAA,CAAI,CAAA,IAAA,KAAQ,KAAK,KAAK,CAAA;AAEjD,EAAA,OAAO;AAAA,IACL,UAAA,EAAY,KAAK,KAAA,CAAM,MAAA;AAAA,IACvB,aAAa,WAAA,CAAY,MAAA;AAAA,IACzB,YAAA,EAAc,MAAA,CAAO,MAAA,GAAS,CAAA,GAAI,OAAO,MAAA,CAAO,CAAC,GAAA,EAAK,KAAA,KAAU,GAAA,GAAM,KAAA,EAAO,CAAC,CAAA,GAAI,OAAO,MAAA,GAAS,CAAA;AAAA,IAClG,UAAA,EAAY;AAAA,MACV,GAAA,EAAK,OAAO,MAAA,GAAS,CAAA,GAAI,KAAK,GAAA,CAAI,GAAG,MAAM,CAAA,GAAI,CAAA;AAAA,MAC/C,GAAA,EAAK,OAAO,MAAA,GAAS,CAAA,GAAI,KAAK,GAAA,CAAI,GAAG,MAAM,CAAA,GAAI;AAAA,KACjD;AAAA,IACA,aAAa,IAAA,CAAK,KAAA,CAAM,KAAK,CAAA,IAAA,KAAQ,IAAA,CAAK,SAAS,CAAA,IAAK;AAAA,GAC1D;AACF;;;AC1RO,SAAS,aAAA,CAAc;AAAA,EAC5B,WAAA;AAAA,EACA,MAAA;AAAA,EACA,SAAA;AAAA,EACA,aAAA;AAAA,EACA,YAAA;AAAA,EACA,uBAAA;AAAA,EACA,0BAAA;AAAA,EACA,0BAAA;AAAA,EACA,YAAY,EAAC;AAAA,EACb,gBAAA;AAAA,EACA,QAAA,GAAW,KAAA;AAAA,EACX,sBAAsB,CAAC,KAAA,EAAO,KAAA,EAAO,KAAA,EAAO,OAAO,KAAK,CAAA;AAAA,EACxD,WAAW,EAAC;AAAA,EACZ,SAAS,EAAC;AAAA,EACV,SAAA;AAAA,EACA;AACF,CAAA,EAAuB;AACrB,EAAA,MAAM,CAAC,KAAA,EAAO,QAAQ,CAAA,GAAI,WAAW,oBAAA,EAAsB;AAAA,IACzD,aAAa,WAAA,IAAe,IAAA;AAAA,IAC5B,YAAA,EAAc,IAAA;AAAA,IACd,SAAA,EAAW,KAAA;AAAA,IACX,aAAA,EAAe,KAAA;AAAA,IACf,YAAA,EAAc,IAAA;AAAA,IACd,qBAAqB,EAAC;AAAA,IACtB,SAAA;AAAA,IACA,SAAS,EAAC;AAAA,IACV,WAAW,EAAC;AAAA,IACZ,WAAW;AAAC,GACb,CAAA;AAED,EAAA,MAAM,CAAC,SAAA,EAAW,YAAY,CAAA,GAAID,SAAS,KAAK,CAAA;AAMhD,EAAA,MAAM,aAAA,GAAgBE,WAAAA,CAAY,CAAC,IAAA,KAAsB;AACvD,IAAA,QAAA,CAAS,EAAE,IAAA,EAAM,UAAA,EAAY,OAAA,EAAS,MAAM,CAAA;AAAA,EAC9C,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,gBAAA,GAAmBA,WAAAA,CAAY,CAAC,EAAA,EAAY,OAAA,KAAkC;AAClF,IAAA,QAAA,CAAS,EAAE,MAAM,aAAA,EAAe,OAAA,EAAS,EAAE,EAAA,EAAI,OAAA,IAAW,CAAA;AAAA,EAC5D,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,gBAAA,GAAmBA,WAAAA,CAAY,CAAC,EAAA,KAAe;AACnD,IAAA,QAAA,CAAS,EAAE,IAAA,EAAM,aAAA,EAAe,OAAA,EAAS,IAAI,CAAA;AAAA,EAC/C,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,iBAAA,GAAoBA,WAAAA,CAAY,CAAC,OAAA,KAAsB;AAC3D,IAAA,QAAA,CAAS,EAAE,IAAA,EAAM,eAAA,EAAiB,OAAA,EAAS,SAAS,CAAA;AAAA,EACtD,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,gBAAA,GAAmBA,WAAAA,CAAY,CAAC,MAAA,KAA0B;AAC9D,IAAA,QAAA,CAAS,EAAE,IAAA,EAAM,mBAAA,EAAqB,OAAA,EAAS,QAAQ,CAAA;AAAA,EACzD,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,gBAAA,GAAmBA,YAAY,MAAM;AACzC,IAAA,QAAA,CAAS,EAAE,IAAA,EAAM,kBAAA,EAAoB,CAAA;AAAA,EACvC,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,mBAAA,GAAsBA,YAAY,MAAM;AAC5C,IAAA,QAAA,CAAS,EAAE,IAAA,EAAM,qBAAA,EAAuB,CAAA;AAAA,EAC1C,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,UAAA,GAAaA,YAAY,YAAY;AACzC,IAAA,IAAI,CAAC,KAAA,CAAM,WAAA,IAAe,CAAC,MAAA,EAAQ;AAEnC,IAAA,YAAA,CAAa,IAAI,CAAA;AACjB,IAAA,IAAI;AACF,MAAA,MAAM,MAAA,CAAO,MAAM,WAAW,CAAA;AAC9B,MAAA,QAAA,CAAS,EAAE,IAAA,EAAM,cAAA,EAAgB,CAAA;AAAA,IACnC,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,KAAA,CAAM,wBAAwB,KAAK,CAAA;AAAA,IAC7C,CAAA,SAAE;AACA,MAAA,YAAA,CAAa,KAAK,CAAA;AAAA,IACpB;AAAA,EACF,CAAA,EAAG,CAAC,KAAA,CAAM,WAAA,EAAa,MAAM,CAAC,CAAA;AAE9B,EAAA,MAAM,aAAA,GAAgBA,YAAY,YAAY;AAC5C,IAAA,IAAI,CAAC,KAAA,CAAM,WAAA,IAAe,CAAC,SAAA,EAAW;AAEtC,IAAA,YAAA,CAAa,IAAI,CAAA;AACjB,IAAA,IAAI;AACF,MAAA,MAAM,SAAA,CAAU,MAAM,WAAW,CAAA;AAAA,IACnC,SAAS,KAAA,EAAO;AACd,MAAA,OAAA,CAAQ,KAAA,CAAM,2BAA2B,KAAK,CAAA;AAAA,IAChD,CAAA,SAAE;AACA,MAAA,YAAA,CAAa,KAAK,CAAA;AAAA,IACpB;AAAA,EACF,CAAA,EAAG,CAAC,KAAA,CAAM,WAAA,EAAa,SAAS,CAAC,CAAA;AAEjC,EAAA,MAAM,iBAAA,GAAoBA,WAAAA,CAAY,OAAO,MAAA,KAAmB;AAC9D,IAAA,QAAA,CAAS,EAAE,IAAA,EAAM,eAAA,EAAiB,OAAA,EAAS,QAAQ,CAAA;AACnD,IAAA,MAAM,gBAAgB,MAAM,CAAA;AAAA,EAC9B,CAAA,EAAG,CAAC,aAAa,CAAC,CAAA;AAElB,EAAA,MAAM,gBAAA,GAAmBA,YAAY,YAAY;AAC/C,IAAA,IAAI,CAAC,MAAM,YAAA,EAAc;AAEzB,IAAA,QAAA,CAAS,EAAE,IAAA,EAAM,cAAA,EAAgB,CAAA;AACjC,IAAA,MAAM,YAAA,GAAe,KAAA,CAAM,YAAA,CAAa,EAAE,CAAA;AAAA,EAC5C,CAAA,EAAG,CAAC,KAAA,CAAM,YAAA,EAAc,YAAY,CAAC,CAAA;AAErC,EAAA,MAAM,UAAA,GAAaA,YAAY,MAAM;AACnC,IAAA,QAAA,CAAS,EAAE,IAAA,EAAM,MAAA,EAAQ,CAAA;AAAA,EAC3B,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,UAAA,GAAaA,YAAY,MAAM;AACnC,IAAA,QAAA,CAAS,EAAE,IAAA,EAAM,MAAA,EAAQ,CAAA;AAAA,EAC3B,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,MAAM,WAAA,GAAcA,YAAY,MAAM;AACpC,IAAA,QAAA,CAAS,EAAE,IAAA,EAAM,OAAA,EAAS,CAAA;AAAA,EAC5B,CAAA,EAAG,EAAE,CAAA;AAML,EAAA,IAAI,CAAC,MAAM,WAAA,EAAa;AACtB,IAAA,uBACE,KAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAW,EAAA,CAAG,yCAAyC,SAAS,CAAA,EAAG,KAAA,EAAA,kBACtE,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,iCACb,KAAA,CAAA,aAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,0CAAA,EAAA,EAA2C,iBAAe,CAAA,sCACvE,GAAA,EAAA,EAAE,SAAA,EAAU,oBAAA,EAAA,EAAqB,wDAAsD,CAAA,kBACxF,KAAA,CAAA,aAAA;AAAA,MAAC,gBAAA;AAAA,MAAA;AAAA,QACC,SAAA;AAAA,QACA,QAAA,EAAU,gBAAA,KAAqB,CAAC,SAAA,KAAc;AAAA,QAAC,CAAA,CAAA;AAAA,QAC/C,UAAU,MAAM;AAAA,QAAC;AAAA;AAAA,KAErB,CACF,CAAA;AAAA,EAEJ;AAEA,EAAA,2CACG,WAAA,EAAA,EAAY,OAAA,EAAS,YAAA,EAAA,kBACpB,KAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAW,EAAA,CAAG,gBAAA,EAAkB,SAAS,GAAG,KAAA,EAAA,kBAE/C,KAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,wCAAA,EAAA,sCACZ,KAAA,EAAA,IAAA,kBACC,KAAA,CAAA,aAAA,CAAC,IAAA,EAAA,EAAG,SAAA,EAAU,sCAAoC,KAAA,CAAM,WAAA,CAAY,IAAK,CAAA,sCACxE,GAAA,EAAA,EAAE,SAAA,EAAU,eAAA,EAAA,EAAiB,KAAA,CAAM,YAAY,WAAY,CAC9D,mBAEA,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,6BAAA,EAAA,kBACb,KAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,gBAAA;AAAA,MACT,SAAA,EAAW,EAAA;AAAA,QACT,4DAAA;AAAA,QACA,KAAA,CAAM,YACF,0CAAA,GACA;AAAA;AACN,KAAA;AAAA,IAEC,KAAA,CAAM,YAAY,WAAA,GAAc;AAAA,GACnC,kBAEA,KAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,mBAAA;AAAA,MACT,SAAA,EAAW,EAAA;AAAA,QACT,4DAAA;AAAA,QACA,KAAA,CAAM,gBACF,4CAAA,GACA;AAAA;AACN,KAAA;AAAA,IAEC,KAAA,CAAM,gBAAgB,cAAA,GAAiB;AAAA,GAC1C,kBAEA,KAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,UAAA;AAAA,MACT,QAAA,EAAU,SAAA;AAAA,MACV,SAAA,EAAU;AAAA,KAAA;AAAA,IAET,YAAY,WAAA,GAAc;AAAA,GAC7B,kBAEA,KAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,aAAA;AAAA,MACT,QAAA,EAAU,SAAA;AAAA,MACV,SAAA,EAAU;AAAA,KAAA;AAAA,IAET,YAAY,eAAA,GAAkB;AAAA,GAEnC,CACF,CAAA,sCAGC,KAAA,EAAA,EAAI,SAAA,EAAU,2DAEb,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,eAAA,EAAA,sCACZ,KAAA,EAAA,EAAI,SAAA,EAAU,0BACb,KAAA,CAAA,aAAA,CAAC,IAAA,EAAA,EAAG,WAAU,0CAAA,EAAA,EAA2C,eAAa,CAAA,kBACtE,KAAA,CAAA,aAAA,CAAC,OAAE,SAAA,EAAU,uBAAA,EAAA,EAAwB,wDAErC,CACF,CAAA,sCAEC,KAAA,EAAA,EAAI,SAAA,EAAU,WAAA,EAAA,kBACb,KAAA,CAAA,aAAA,CAAC,uBACE,KAAA,CAAM,WAAA,CAAY,MAAM,GAAA,CAAI,CAAC,MAAM,KAAA,qBAClC,KAAA,CAAA,aAAA;AAAA,IAAC,MAAA,CAAO,GAAA;AAAA,IAAP;AAAA,MACC,KAAK,IAAA,CAAK,EAAA;AAAA,MACV,OAAA,EAAS,EAAE,OAAA,EAAS,CAAA,EAAG,GAAG,EAAA,EAAG;AAAA,MAC7B,OAAA,EAAS,EAAE,OAAA,EAAS,CAAA,EAAG,GAAG,CAAA,EAAE;AAAA,MAC5B,IAAA,EAAM,EAAE,OAAA,EAAS,CAAA,EAAG,GAAG,GAAA,EAAI;AAAA,MAC3B,UAAA,EAAY,EAAE,QAAA,EAAU,GAAA;AAAI,KAAA;AAAA,oBAE5B,KAAA,CAAA,aAAA;AAAA,MAAC,eAAA;AAAA,MAAA;AAAA,QACC,IAAA;AAAA,QACA,KAAA;AAAA,QACA,UAAA,EAAY,KAAA,CAAM,YAAA,EAAc,EAAA,KAAO,IAAA,CAAK,EAAA;AAAA,QAC5C,WAAW,KAAA,CAAM,SAAA;AAAA,QACjB,QAAA,EAAU,MAAM,gBAAA,CAAiB,IAAA,CAAK,EAAE,CAAA;AAAA,QACxC,UAAU,CAAC,OAAA,KAAY,gBAAA,CAAiB,IAAA,CAAK,IAAI,OAAO,CAAA;AAAA,QACxD,QAAA,EAAU,MAAM,gBAAA,CAAiB,IAAA,CAAK,EAAE,CAAA;AAAA,QACxC,SAAA,EAAW;AAAA;AAAA;AACb,GAEH,CACH,CACF,CAAA,EAEC,MAAM,SAAA,oBACL,KAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,SAAS,MAAM;AACb,QAAA,MAAM,OAAA,GAAuB;AAAA,UAC3B,EAAA,EAAI,CAAA,KAAA,EAAQ,IAAA,CAAK,GAAA,EAAK,CAAA,CAAA;AAAA,UACtB,IAAA,EAAM,UAAA;AAAA,UACN,WAAA,EAAa,2BAAA;AAAA,UACb,KAAA,EAAO,CAAA;AAAA,UACP,QAAA;AAAA,UACA,QAAA,EAAU,OAAA;AAAA,UACV,aAAA,EAAe,CAAA;AAAA,UACf,UAAU,EAAC;AAAA,UACX,SAAA,EAAW,KAAA;AAAA,UACX,QAAA,EAAU,IAAA;AAAA,UACV,SAAA,EAAW,KAAA,CAAM,WAAA,CAAa,KAAA,CAAM;AAAA,SACtC;AACA,QAAA,aAAA,CAAc,OAAO,CAAA;AAAA,MACvB,CAAA;AAAA,MACA,SAAA,EAAU;AAAA,KAAA;AAAA,IACX;AAAA,GAIL,CAAA,kBAGA,KAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,WAAA,EAAA,EAEZ,MAAM,YAAA,oBACL,KAAA,CAAA,aAAA;AAAA,IAAC,iBAAA;AAAA,IAAA;AAAA,MACC,MAAM,KAAA,CAAM,YAAA;AAAA,MACZ,UAAU,CAAC,OAAA,KAAY,iBAAiB,KAAA,CAAM,YAAA,CAAc,IAAI,OAAO,CAAA;AAAA,MACvE,OAAA,EAAS,MAAM,gBAAA,CAAiB,IAAI,CAAA;AAAA,MACpC,QAAA;AAAA,MACA,mBAAA;AAAA,MACA,QAAA;AAAA,MACA;AAAA;AAAA,GACF,kBAIF,KAAA,CAAA,aAAA;AAAA,IAAC,WAAA;AAAA,IAAA;AAAA,MACC,YAAY,KAAA,CAAM,YAAA;AAAA,MAClB,OAAA,EAAS,iBAAA;AAAA,MACT,MAAA,EAAQ,gBAAA;AAAA,MACR,aAAa,KAAA,CAAM;AAAA;AAAA,GACrB,kBAGA,KAAA,CAAA,aAAA;AAAA,IAAC,mBAAA;AAAA,IAAA;AAAA,MACC,OAAO,KAAA,CAAM,mBAAA;AAAA,MACb,KAAA,EAAO,4BAA4B,MAAM;AAAA,MAAC,CAAA,CAAA;AAAA,MAC1C,QAAA,EAAU,+BAA+B,MAAM;AAAA,MAAC,CAAA,CAAA;AAAA,MAChD,QAAA,EAAU,+BAA+B,MAAM;AAAA,MAAC,CAAA;AAAA;AAAA,GAClD,kBAGA,KAAA,CAAA,aAAA;AAAA,IAAC,iBAAA;AAAA,IAAA;AAAA,MACC,MAAM,KAAA,CAAM,WAAA;AAAA,MACZ;AAAA;AAAA,GAEJ,CACF,CAAA,EAGC,KAAA,CAAM,iCACL,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,MAAA,EAAA,kBACb,KAAA,CAAA,aAAA;AAAA,IAAC,cAAA;AAAA,IAAA;AAAA,MACC,MAAM,KAAA,CAAM,WAAA;AAAA,MACZ;AAAA;AAAA,GAEJ,mBAIF,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,WAAU,wCAAA,EAAA,kBACb,KAAA,CAAA,aAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAU,6BAAA,EAAA,kBACb,KAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,UAAA;AAAA,MACT,QAAA,EAAU,KAAA,CAAM,SAAA,CAAU,MAAA,KAAW,CAAA;AAAA,MACrC,SAAA,EAAU;AAAA,KAAA;AAAA,IACX;AAAA,GAED,kBACA,KAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,UAAA;AAAA,MACT,QAAA,EAAU,KAAA,CAAM,SAAA,CAAU,MAAA,KAAW,CAAA;AAAA,MACrC,SAAA,EAAU;AAAA,KAAA;AAAA,IACX;AAAA,GAED,kBACA,KAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,WAAA;AAAA,MACT,SAAA,EAAU;AAAA,KAAA;AAAA,IACX;AAAA,GAGH,CAAA,kBAEA,KAAA,CAAA,aAAA,CAAC,SAAI,SAAA,EAAU,uBAAA,EAAA,EAAwB,YAC5B,KAAA,CAAM,WAAA,CAAY,OAAA,EAAQ,uBAAA,EAAiB,MAAM,WAAA,CAAY,SAAA,CAAU,oBAClF,CACF,CACF,CACF,CAAA;AAEJ;AC5VO,IAAM,iBAAA,GAAoB,EAAE,MAAA,CAAO;AAAA,EACxC,EAAA,EAAI,EAAE,MAAA,EAAO;AAAA,EACb,IAAA,EAAM,EAAE,MAAA,EAAO;AAAA,EACf,WAAA,EAAa,CAAA,CAAE,MAAA,EAAO,CAAE,QAAA,EAAS;AAAA,EACjC,KAAA,EAAO,CAAA,CAAE,MAAA,EAAO,CAAE,WAAA,EAAY;AAAA,EAC9B,QAAA,EAAU,CAAA,CAAE,MAAA,EAAO,CAAE,QAAQ,KAAK,CAAA;AAAA,EAClC,QAAA,EAAU,EAAE,IAAA,CAAK,CAAC,OAAO,MAAA,EAAQ,OAAA,EAAS,MAAM,CAAC,CAAA;AAAA,EACjD,eAAe,CAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,QAAQ,CAAC,CAAA;AAAA,EAC9C,QAAA,EAAU,CAAA,CAAE,KAAA,CAAM,CAAA,CAAE,QAAQ,CAAA;AAAA,EAC5B,MAAA,EAAQ,CAAA,CAAE,MAAA,CAAO,CAAA,CAAE,MAAA,EAAO,EAAG,CAAA,CAAE,MAAA,EAAO,CAAE,WAAA,EAAa,CAAA,CAAE,QAAA,EAAS;AAAA,EAChE,UAAU,CAAA,CAAE,MAAA,CAAO,EAAE,MAAA,EAAQ,EAAE,QAAA,EAAS;AAAA,EACxC,SAAA,EAAW,CAAA,CAAE,OAAA,EAAQ,CAAE,QAAQ,KAAK,CAAA;AAAA,EACpC,QAAA,EAAU,CAAA,CAAE,OAAA,EAAQ,CAAE,QAAQ,IAAI,CAAA;AAAA,EAClC,SAAA,EAAW,CAAA,CAAE,MAAA,EAAO,CAAE,QAAQ,CAAC;AACjC,CAAC;AAEM,IAAM,iBAAA,GAAoB,EAAE,MAAA,CAAO;AAAA,EACxC,EAAA,EAAI,EAAE,MAAA,EAAO;AAAA,EACb,IAAA,EAAM,EAAE,MAAA,EAAO;AAAA,EACf,WAAA,EAAa,CAAA,CAAE,MAAA,EAAO,CAAE,QAAA,EAAS;AAAA,EACjC,KAAA,EAAO,CAAA,CAAE,KAAA,CAAM,iBAAiB,CAAA;AAAA,EAChC,QAAA,EAAU,CAAA,CAAE,MAAA,EAAO,CAAE,QAAQ,KAAK,CAAA;AAAA,EAClC,QAAA,EAAU,CAAA,CAAE,OAAA,EAAQ,CAAE,QAAQ,IAAI,CAAA;AAAA,EAClC,OAAA,EAAS,CAAA,CAAE,MAAA,EAAO,CAAE,QAAQ,OAAO,CAAA;AAAA,EACnC,SAAA,EAAW,EAAE,IAAA,EAAK;AAAA,EAClB,SAAA,EAAW,EAAE,IAAA,EAAK;AAAA,EAClB,UAAU,CAAA,CAAE,MAAA,CAAO,EAAE,MAAA,EAAQ,EAAE,QAAA;AACjC,CAAC;AAEM,IAAM,YAAA,GAAe,EAAE,MAAA,CAAO;AAAA,EACnC,EAAA,EAAI,EAAE,MAAA,EAAO;AAAA,EACb,IAAA,EAAM,EAAE,MAAA,EAAO;AAAA,EACf,WAAA,EAAa,CAAA,CAAE,MAAA,EAAO,CAAE,QAAA,EAAS;AAAA,EACjC,KAAA,EAAO,EAAE,MAAA,EAAO;AAAA;AAAA,EAChB,KAAA,EAAO,EAAE,MAAA,EAAO;AAAA;AAAA,EAChB,YAAA,EAAc,CAAA,CAAE,MAAA,EAAO,CAAE,GAAA,CAAI,CAAC,CAAA,CAAE,GAAA,CAAI,CAAC,CAAA,CAAE,OAAA,CAAQ,GAAG,CAAA;AAAA;AAAA,EAClD,SAAA,EAAW,EAAE,IAAA,EAAK;AAAA,EAClB,OAAA,EAAS,CAAA,CAAE,IAAA,EAAK,CAAE,QAAA,EAAS;AAAA,EAC3B,QAAA,EAAU,CAAA,CAAE,OAAA,EAAQ,CAAE,QAAQ,IAAI,CAAA;AAAA,EAClC,OAAA,EAAS,EAAE,MAAA,CAAO;AAAA,IAChB,gBAAA,EAAkB,CAAA,CAAE,MAAA,EAAO,CAAE,QAAQ,CAAC,CAAA;AAAA,IACtC,gBAAA,EAAkB,CAAA,CAAE,MAAA,EAAO,CAAE,QAAQ,CAAC,CAAA;AAAA,IACtC,YAAA,EAAc,CAAA,CAAE,MAAA,EAAO,CAAE,QAAQ,CAAC,CAAA;AAAA,IAClC,YAAA,EAAc,CAAA,CAAE,MAAA,EAAO,CAAE,QAAQ,CAAC;AAAA,GACnC,CAAA;AAAA,EACD,SAAA,EAAW,EAAE,IAAA,EAAK;AAAA,EAClB,SAAA,EAAW,EAAE,IAAA;AACf,CAAC;AAEM,IAAM,wBAAA,GAA2B,EAAE,MAAA,CAAO;AAAA,EAC/C,EAAA,EAAI,EAAE,MAAA,EAAO;AAAA,EACb,MAAA,EAAQ,EAAE,MAAA,EAAO;AAAA,EACjB,eAAA,EAAiB,EAAE,MAAA,EAAO;AAAA;AAAA,EAC1B,UAAA,EAAY,EAAE,MAAA,CAAO;AAAA,IACnB,gBAAA,EAAkB,CAAA,CAAE,IAAA,EAAK,CAAE,QAAA,EAAS;AAAA,IACpC,UAAA,EAAY,CAAA,CAAE,MAAA,EAAO,CAAE,QAAA,EAAS;AAAA,IAChC,eAAA,EAAiB,CAAA,CAAE,MAAA,EAAO,CAAE,QAAA;AAAS,GACtC,CAAA;AAAA,EACD,OAAA,EAAS,EAAE,MAAA,CAAO;AAAA,IAChB,gBAAA,EAAkB,CAAA,CAAE,OAAA,EAAQ,CAAE,QAAQ,IAAI,CAAA;AAAA,IAC1C,gBAAA,EAAkB,EAAE,KAAA,CAAM,CAAA,CAAE,QAAQ,CAAA,CAAE,OAAA,CAAQ,EAAE,CAAA;AAAA,IAChD,WAAA,EAAa,CAAA,CAAE,MAAA,EAAO,CAAE,QAAA,EAAS;AAAA;AAAA,IACjC,cAAA,EAAgB,CAAA,CAAE,MAAA,EAAO,CAAE,QAAA;AAAS;AAAA,GACrC,CAAA;AAAA,EACD,QAAA,EAAU,CAAA,CAAE,OAAA,EAAQ,CAAE,QAAQ,IAAI,CAAA;AAAA,EAClC,SAAA,EAAW,EAAE,IAAA,EAAK;AAAA,EAClB,SAAA,EAAW,EAAE,IAAA;AACf,CAAC;AAEM,IAAM,qBAAA,GAAwB,EAAE,MAAA,CAAO;AAAA,EAC5C,EAAA,EAAI,EAAE,MAAA,EAAO;AAAA,EACb,IAAA,EAAM,EAAE,MAAA,EAAO;AAAA,EACf,WAAA,EAAa,EAAE,MAAA,EAAO;AAAA,EACtB,QAAA,EAAU,CAAA,CAAE,IAAA,CAAK,CAAC,MAAA,EAAQ,aAAa,aAAA,EAAe,KAAA,EAAO,IAAA,EAAM,QAAQ,CAAC,CAAA;AAAA,EAC5E,OAAA,EAAS,EAAE,MAAA,EAAO;AAAA,EAClB,QAAA,EAAU,iBAAA;AAAA,EACV,QAAA,EAAU,CAAA,CAAE,OAAA,EAAQ,CAAE,QAAQ,KAAK,CAAA;AAAA,EACnC,SAAA,EAAW,EAAE,MAAA,EAAO;AAAA,EACpB,SAAA,EAAW,EAAE,IAAA,EAAK;AAAA,EAClB,SAAA,EAAW,EAAE,IAAA;AACf,CAAC","file":"index.mjs","sourcesContent":["import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n","import { useState } from 'react';\nimport { useDrag, useDrop } from 'react-dnd';\nimport { PricingTier, DragItem, DropResult } from '../types/pricing';\nimport { cn } from '../utils/cn';\nimport { Trash2, GripVertical, Star, Check, X } from 'lucide-react';\n\n// ============================================================================\n// Pricing Tier Card Component\n// ============================================================================\n\ninterface PricingTierCardProps {\n  tier: PricingTier;\n  index: number;\n  isSelected: boolean;\n  isEditing: boolean;\n  onSelect: () => void;\n  onUpdate: (updates: Partial<PricingTier>) => void;\n  onDelete: () => void;\n  onReorder: (tierIds: string[]) => void;\n}\n\nexport function PricingTierCard({\n  tier,\n  index: _index,\n  isSelected,\n  isEditing,\n  onSelect,\n  onUpdate,\n  onDelete,\n  onReorder: _onReorder,\n}: PricingTierCardProps) {\n  const [isEditingName, setIsEditingName] = useState(false);\n  const [isEditingPrice, setIsEditingPrice] = useState(false);\n  const [isEditingDescription, setIsEditingDescription] = useState(false);\n\n  // ============================================================================\n  // Drag and Drop\n  // ============================================================================\n\n  const [{ isDragging }, drag] = useDrag({\n    type: 'tier',\n    item: { type: 'tier', id: tier.id, data: tier } as DragItem,\n    collect: monitor => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n\n  const [{ isOver, canDrop }, drop] = useDrop({\n    accept: 'tier',\n    drop: (item: DragItem, _monitor) => {\n      if (item.id === tier.id) return;\n\n      const dropResult: DropResult = {\n        dropEffect: 'move',\n        targetId: tier.id,\n        position: 'after',\n      };\n\n      // Handle reordering logic here\n      return dropResult;\n    },\n    collect: monitor => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop(),\n    }),\n  });\n\n  // ============================================================================\n  // Event Handlers\n  // ============================================================================\n\n  const handleNameEdit = (newName: string) => {\n    if (newName.trim() && newName !== tier.name) {\n      onUpdate({ name: newName.trim() });\n    }\n    setIsEditingName(false);\n  };\n\n  const handlePriceEdit = (newPrice: string) => {\n    const price = parseFloat(newPrice);\n    if (!isNaN(price) && price >= 0 && price !== tier.price) {\n      onUpdate({ price });\n    }\n    setIsEditingPrice(false);\n  };\n\n  const handleDescriptionEdit = (newDescription: string) => {\n    if (newDescription !== tier.description) {\n      onUpdate({ description: newDescription.trim() });\n    }\n    setIsEditingDescription(false);\n  };\n\n  const handlePopularToggle = () => {\n    onUpdate({ isPopular: !tier.isPopular });\n  };\n\n  const handleActiveToggle = () => {\n    onUpdate({ isActive: !tier.isActive });\n  };\n\n  // ============================================================================\n  // Render\n  // ============================================================================\n\n  return (\n    <div\n      ref={node => drag(drop(node))}\n      className={cn(\n        'relative bg-white rounded-lg border-2 transition-all duration-200 cursor-pointer',\n        isSelected ? 'border-blue-500 shadow-lg' : 'border-gray-200 hover:border-gray-300',\n        isDragging ? 'opacity-50' : 'opacity-100',\n        isOver && canDrop ? 'border-green-500' : '',\n        tier.isPopular ? 'ring-2 ring-yellow-400' : ''\n      )}\n      onClick={onSelect}\n    >\n      {/* Popular Badge */}\n      {tier.isPopular && (\n        <div className=\"absolute -top-2 left-1/2 transform -translate-x-1/2\">\n          <div className=\"bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-xs font-semibold flex items-center\">\n            <Star className=\"w-3 h-3 mr-1\" />\n            Most Popular\n          </div>\n        </div>\n      )}\n\n      {/* Header */}\n      <div className=\"p-6\">\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex-1\">\n            {isEditingName ? (\n              <input\n                type=\"text\"\n                defaultValue={tier.name}\n                className=\"text-xl font-bold text-gray-900 bg-transparent border-b-2 border-blue-500 focus:outline-none\"\n                // @ts-ignore - DOM types not available in DTS build\n                onBlur={e => handleNameEdit((e.target as HTMLInputElement).value)}\n                onKeyDown={e => {\n                  if (e.key === 'Enter') {\n                    // @ts-ignore - DOM types not available in DTS build\n                    handleNameEdit(e.currentTarget.value);\n                  } else if (e.key === 'Escape') {\n                    setIsEditingName(false);\n                  }\n                }}\n                autoFocus\n              />\n            ) : (\n              <h3\n                className=\"text-xl font-bold text-gray-900 cursor-pointer hover:text-blue-600\"\n                onDoubleClick={() => setIsEditingName(true)}\n              >\n                {tier.name}\n              </h3>\n            )}\n\n            {isEditingDescription ? (\n              <input\n                type=\"text\"\n                defaultValue={tier.description || ''}\n                placeholder=\"Add description...\"\n                className=\"text-sm text-gray-600 bg-transparent border-b border-gray-300 focus:outline-none w-full mt-1\"\n                // @ts-ignore - DOM types not available in DTS build\n                onBlur={e => handleDescriptionEdit((e.target as HTMLInputElement).value)}\n                onKeyDown={e => {\n                  if (e.key === 'Enter') {\n                    // @ts-ignore - DOM types not available in DTS build\n                    handleDescriptionEdit(e.currentTarget.value);\n                  } else if (e.key === 'Escape') {\n                    setIsEditingDescription(false);\n                  }\n                }}\n                autoFocus\n              />\n            ) : (\n              <p\n                className=\"text-sm text-gray-600 mt-1 cursor-pointer hover:text-blue-600\"\n                onDoubleClick={() => setIsEditingDescription(true)}\n              >\n                {tier.description || 'Click to add description...'}\n              </p>\n            )}\n          </div>\n\n          {/* Actions */}\n          {isEditing && (\n            <div className=\"flex items-center space-x-2 ml-4\">\n              <button\n                onClick={e => {\n                  e.stopPropagation();\n                  handlePopularToggle();\n                }}\n                className={cn(\n                  'p-1 rounded transition-colors',\n                  tier.isPopular\n                    ? 'text-yellow-600 hover:text-yellow-700'\n                    : 'text-gray-400 hover:text-yellow-600'\n                )}\n                title={tier.isPopular ? 'Remove popular badge' : 'Mark as popular'}\n              >\n                <Star className=\"w-4 h-4\" />\n              </button>\n\n              <button\n                onClick={e => {\n                  e.stopPropagation();\n                  handleActiveToggle();\n                }}\n                className={cn(\n                  'p-1 rounded transition-colors',\n                  tier.isActive\n                    ? 'text-green-600 hover:text-green-700'\n                    : 'text-gray-400 hover:text-green-600'\n                )}\n                title={tier.isActive ? 'Deactivate tier' : 'Activate tier'}\n              >\n                {tier.isActive ? <Check className=\"w-4 h-4\" /> : <X className=\"w-4 h-4\" />}\n              </button>\n\n              <button\n                onClick={e => {\n                  e.stopPropagation();\n                  onDelete();\n                }}\n                className=\"p-1 text-red-600 hover:text-red-700 rounded transition-colors\"\n                title=\"Delete tier\"\n              >\n                <Trash2 className=\"w-4 h-4\" />\n              </button>\n            </div>\n          )}\n        </div>\n\n        {/* Price */}\n        <div className=\"mt-4\">\n          {isEditingPrice ? (\n            <div className=\"flex items-center\">\n              <span className=\"text-3xl font-bold text-gray-900\">$</span>\n              <input\n                type=\"number\"\n                defaultValue={tier.price}\n                className=\"text-3xl font-bold text-gray-900 bg-transparent border-b-2 border-blue-500 focus:outline-none w-24\"\n                // @ts-ignore - DOM types not available in DTS build\n                onBlur={e => handlePriceEdit((e.target as HTMLInputElement).value)}\n                onKeyDown={e => {\n                  if (e.key === 'Enter') {\n                    // @ts-ignore - DOM types not available in DTS build\n                    handlePriceEdit(e.currentTarget.value);\n                  } else if (e.key === 'Escape') {\n                    setIsEditingPrice(false);\n                  }\n                }}\n                autoFocus\n              />\n            </div>\n          ) : (\n            <div\n              className=\"flex items-center cursor-pointer hover:text-blue-600\"\n              onDoubleClick={() => setIsEditingPrice(true)}\n            >\n              <span className=\"text-3xl font-bold text-gray-900\">${tier.price.toFixed(2)}</span>\n              <span className=\"text-sm text-gray-500 ml-2\">/ {tier.interval}</span>\n            </div>\n          )}\n        </div>\n\n        {/* Features */}\n        <div className=\"mt-4\">\n          <h4 className=\"text-sm font-semibold text-gray-700 mb-2\">Features</h4>\n          <div className=\"space-y-1\">\n            {tier.features.length > 0 ? (\n              tier.features.map((feature, featureIndex) => (\n                <div key={featureIndex} className=\"flex items-center text-sm text-gray-600\">\n                  <Check className=\"w-4 h-4 text-green-500 mr-2 flex-shrink-0\" />\n                  <span>{feature}</span>\n                </div>\n              ))\n            ) : (\n              <p className=\"text-sm text-gray-400 italic\">No features added yet</p>\n            )}\n          </div>\n        </div>\n\n        {/* Limits */}\n        {tier.limits && Object.keys(tier.limits).length > 0 && (\n          <div className=\"mt-4\">\n            <h4 className=\"text-sm font-semibold text-gray-700 mb-2\">Limits</h4>\n            <div className=\"space-y-1\">\n              {Object.entries(tier.limits).map(([key, value]) => (\n                <div key={key} className=\"flex items-center justify-between text-sm text-gray-600\">\n                  <span className=\"capitalize\">{key.replace(/([A-Z])/g, ' $1').toLowerCase()}</span>\n                  <span className=\"font-medium\">{value.toLocaleString()}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Metadata */}\n        {tier.metadata && Object.keys(tier.metadata).length > 0 && (\n          <div className=\"mt-4\">\n            <h4 className=\"text-sm font-semibold text-gray-700 mb-2\">Metadata</h4>\n            <div className=\"space-y-1\">\n              {Object.entries(tier.metadata).map(([key, value]) => (\n                <div key={key} className=\"flex items-center justify-between text-sm text-gray-600\">\n                  <span className=\"capitalize\">{key}</span>\n                  <span className=\"font-medium\">{String(value)}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Drag Handle */}\n      {isEditing && (\n        <div className=\"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity\">\n          <GripVertical className=\"w-4 h-4 text-gray-400\" />\n        </div>\n      )}\n\n      {/* Status Indicators */}\n      <div className=\"absolute bottom-2 right-2 flex items-center space-x-2\">\n        {!tier.isActive && (\n          <div className=\"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium\">\n            Inactive\n          </div>\n        )}\n        {tier.isPopular && (\n          <div className=\"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs font-medium\">\n            Popular\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useCallback } from 'react';\nimport { PricingTier } from '../types/pricing';\n\ninterface PricingTierEditorProps {\n  tier: PricingTier;\n  onUpdate: (updates: Partial<PricingTier>) => void;\n  onClose: () => void;\n  currency: string;\n  supportedCurrencies: string[];\n  features: string[];\n  limits: string[];\n}\n\nexport function PricingTierEditor({\n  tier,\n  onUpdate,\n  onClose,\n  currency,\n  supportedCurrencies,\n  features,\n  limits,\n}: PricingTierEditorProps) {\n  const [formData, setFormData] = useState({\n    name: tier.name,\n    description: tier.description,\n    price: tier.price,\n    currency: tier.currency,\n    interval: tier.interval,\n    intervalCount: tier.intervalCount,\n    features: tier.features,\n    isActive: tier.isActive,\n  });\n\n  const handleSubmit = useCallback(\n    (e: React.FormEvent) => {\n      e.preventDefault();\n      onUpdate(formData);\n      onClose();\n    },\n    [formData, onUpdate, onClose]\n  );\n\n  const handleChange = useCallback((field: string, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n  }, []);\n\n  return (\n    <div className=\"bg-white border rounded-lg p-4\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-lg font-semibold\">Edit Tier</h3>\n        <button onClick={onClose} className=\"text-gray-400 hover:text-gray-600\">\n          \n        </button>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Name</label>\n          <input\n            type=\"text\"\n            value={formData.name}\n            onChange={e => handleChange('name', e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n          <textarea\n            value={formData.description}\n            onChange={e => handleChange('description', e.target.value)}\n            rows={3}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Price</label>\n            <input\n              type=\"number\"\n              value={formData.price}\n              onChange={e => handleChange('price', parseFloat(e.target.value) || 0)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Currency</label>\n            <select\n              value={formData.currency}\n              onChange={e => handleChange('currency', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              {supportedCurrencies.map(curr => (\n                <option key={curr} value={curr}>\n                  {curr}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Interval</label>\n            <select\n              value={formData.interval}\n              onChange={e => handleChange('interval', e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"month\">Monthly</option>\n              <option value=\"year\">Yearly</option>\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Interval Count</label>\n            <input\n              type=\"number\"\n              value={formData.intervalCount}\n              onChange={e => handleChange('intervalCount', parseInt(e.target.value) || 1)}\n              min=\"1\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Features</label>\n          <div className=\"space-y-2\">\n            {features.map((feature, index) => (\n              <label key={index} className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.features.includes(feature)}\n                  onChange={e => {\n                    const newFeatures = e.target.checked\n                      ? [...formData.features, feature]\n                      : formData.features.filter(f => f !== feature);\n                    handleChange('features', newFeatures);\n                  }}\n                  className=\"mr-2\"\n                />\n                <span className=\"text-sm text-gray-700\">{feature}</span>\n              </label>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"flex items-center\">\n          <input\n            type=\"checkbox\"\n            id=\"isActive\"\n            checked={formData.isActive}\n            onChange={e => handleChange('isActive', e.target.checked)}\n            className=\"mr-2\"\n          />\n          <label htmlFor=\"isActive\" className=\"text-sm text-gray-700\">\n            Active\n          </label>\n        </div>\n\n        <div className=\"flex justify-end space-x-2\">\n          <button\n            type=\"button\"\n            onClick={onClose}\n            className=\"px-4 py-2 text-sm text-gray-600 hover:text-gray-800\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            className=\"px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700\"\n          >\n            Save Changes\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { ABTest, PricingPlan } from '../types/pricing';\n\ninterface ABTestPanelProps {\n  activeTest: ABTest | null;\n  onStart: (test: ABTest) => void;\n  onStop: () => void;\n  currentPlan: PricingPlan;\n}\n\nexport function ABTestPanel({ activeTest, onStart, onStop, currentPlan }: ABTestPanelProps) {\n  const [isCreating, setIsCreating] = useState(false);\n  const [testConfig, setTestConfig] = useState({\n    name: '',\n    description: '',\n    variantName: '',\n    trafficSplit: 50,\n    duration: 30,\n  });\n\n  const handleStartTest = () => {\n    const newTest: ABTest = {\n      id: `test-${Date.now()}`,\n      name: testConfig.name,\n      description: testConfig.description,\n      variantName: testConfig.variantName,\n      trafficSplit: testConfig.trafficSplit,\n      duration: testConfig.duration,\n      startDate: new Date(),\n      status: 'running',\n      metrics: {\n        conversions: 0,\n        revenue: 0,\n        users: 0,\n      },\n    };\n\n    onStart(newTest);\n    setIsCreating(false);\n    setTestConfig({\n      name: '',\n      description: '',\n      variantName: '',\n      trafficSplit: 50,\n      duration: 30,\n    });\n  };\n\n  if (activeTest) {\n    return (\n      <div className=\"bg-white border rounded-lg p-4\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold\">Active A/B Test</h3>\n          <button\n            onClick={onStop}\n            className=\"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700\"\n          >\n            Stop Test\n          </button>\n        </div>\n\n        <div className=\"space-y-3\">\n          <div>\n            <h4 className=\"font-medium text-gray-900\">{activeTest.name}</h4>\n            <p className=\"text-sm text-gray-600\">{activeTest.description}</p>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4 text-sm\">\n            <div>\n              <span className=\"text-gray-500\">Variant:</span>\n              <span className=\"ml-2 font-medium\">{activeTest.variantName}</span>\n            </div>\n            <div>\n              <span className=\"text-gray-500\">Traffic Split:</span>\n              <span className=\"ml-2 font-medium\">{activeTest.trafficSplit}%</span>\n            </div>\n            <div>\n              <span className=\"text-gray-500\">Duration:</span>\n              <span className=\"ml-2 font-medium\">{activeTest.duration} days</span>\n            </div>\n            <div>\n              <span className=\"text-gray-500\">Status:</span>\n              <span className=\"ml-2 font-medium text-green-600 capitalize\">\n                {activeTest.status}\n              </span>\n            </div>\n          </div>\n\n          <div className=\"pt-3 border-t\">\n            <h5 className=\"font-medium text-gray-900 mb-2\">Metrics</h5>\n            <div className=\"grid grid-cols-3 gap-4 text-sm\">\n              <div>\n                <span className=\"text-gray-500\">Users:</span>\n                <span className=\"ml-2 font-medium\">{activeTest.metrics.users}</span>\n              </div>\n              <div>\n                <span className=\"text-gray-500\">Conversions:</span>\n                <span className=\"ml-2 font-medium\">{activeTest.metrics.conversions}</span>\n              </div>\n              <div>\n                <span className=\"text-gray-500\">Revenue:</span>\n                <span className=\"ml-2 font-medium\">${activeTest.metrics.revenue}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (isCreating) {\n    return (\n      <div className=\"bg-white border rounded-lg p-4\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold\">Create A/B Test</h3>\n          <button\n            onClick={() => setIsCreating(false)}\n            className=\"text-gray-400 hover:text-gray-600\"\n          >\n            \n          </button>\n        </div>\n\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Test Name</label>\n            <input\n              type=\"text\"\n              value={testConfig.name}\n              onChange={e => setTestConfig(prev => ({ ...prev, name: e.target.value }))}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n            <textarea\n              value={testConfig.description}\n              onChange={e => setTestConfig(prev => ({ ...prev, description: e.target.value }))}\n              rows={2}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Variant Name</label>\n            <input\n              type=\"text\"\n              value={testConfig.variantName}\n              onChange={e => setTestConfig(prev => ({ ...prev, variantName: e.target.value }))}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Traffic Split (%)\n              </label>\n              <input\n                type=\"number\"\n                min=\"1\"\n                max=\"99\"\n                value={testConfig.trafficSplit}\n                onChange={e =>\n                  setTestConfig(prev => ({ ...prev, trafficSplit: parseInt(e.target.value) || 50 }))\n                }\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Duration (days)\n              </label>\n              <input\n                type=\"number\"\n                min=\"1\"\n                value={testConfig.duration}\n                onChange={e =>\n                  setTestConfig(prev => ({ ...prev, duration: parseInt(e.target.value) || 30 }))\n                }\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n\n          <div className=\"flex justify-end space-x-2\">\n            <button\n              onClick={() => setIsCreating(false)}\n              className=\"px-4 py-2 text-sm text-gray-600 hover:text-gray-800\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleStartTest}\n              disabled={!testConfig.name || !testConfig.variantName}\n              className=\"px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 disabled:opacity-50\"\n            >\n              Start Test\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white border rounded-lg p-4\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-lg font-semibold\">A/B Testing</h3>\n        <button\n          onClick={() => setIsCreating(true)}\n          className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700\"\n        >\n          New Test\n        </button>\n      </div>\n\n      <div className=\"text-center py-8\">\n        <div className=\"text-gray-400 mb-2\">\n          <svg className=\"w-12 h-12 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n            />\n          </svg>\n        </div>\n        <p className=\"text-gray-500 text-sm\">No active A/B tests</p>\n        <p className=\"text-gray-400 text-xs mt-1\">Create a test to compare pricing strategies</p>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { GrandfatheringRule } from '../types/pricing';\n\ninterface GrandfatheringPanelProps {\n  rules: GrandfatheringRule[];\n  onAdd: (rule: GrandfatheringRule) => void;\n  onUpdate: (id: string, rule: GrandfatheringRule) => void;\n  onDelete: (id: string) => void;\n}\n\nexport function GrandfatheringPanel({\n  rules,\n  onAdd,\n  onUpdate,\n  onDelete,\n}: GrandfatheringPanelProps) {\n  const [isCreating, setIsCreating] = useState(false);\n  const [editingRule, setEditingRule] = useState<string | null>(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    customerSegment: '',\n    originalPrice: 0,\n    grandfatheredPrice: 0,\n    startDate: '',\n    endDate: '',\n    isActive: true,\n  });\n\n  const handleSubmit = () => {\n    const newRule: GrandfatheringRule = {\n      id: editingRule || `rule-${Date.now()}`,\n      name: formData.name,\n      description: formData.description,\n      customerSegment: formData.customerSegment,\n      originalPrice: formData.originalPrice,\n      grandfatheredPrice: formData.grandfatheredPrice,\n      startDate: new Date(formData.startDate),\n      endDate: formData.endDate ? new Date(formData.endDate) : null,\n      isActive: formData.isActive,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n\n    if (editingRule) {\n      onUpdate(editingRule, newRule);\n    } else {\n      onAdd(newRule);\n    }\n\n    setIsCreating(false);\n    setEditingRule(null);\n    setFormData({\n      name: '',\n      description: '',\n      customerSegment: '',\n      originalPrice: 0,\n      grandfatheredPrice: 0,\n      startDate: '',\n      endDate: '',\n      isActive: true,\n    });\n  };\n\n  const handleEdit = (rule: GrandfatheringRule) => {\n    setFormData({\n      name: rule.name,\n      description: rule.description,\n      customerSegment: rule.customerSegment,\n      originalPrice: rule.originalPrice,\n      grandfatheredPrice: rule.grandfatheredPrice,\n      startDate: rule.startDate.toISOString().split('T')[0],\n      endDate: rule.endDate ? rule.endDate.toISOString().split('T')[0] : '',\n      isActive: rule.isActive,\n    });\n    setEditingRule(rule.id);\n    setIsCreating(true);\n  };\n\n  const handleCancel = () => {\n    setIsCreating(false);\n    setEditingRule(null);\n    setFormData({\n      name: '',\n      description: '',\n      customerSegment: '',\n      originalPrice: 0,\n      grandfatheredPrice: 0,\n      startDate: '',\n      endDate: '',\n      isActive: true,\n    });\n  };\n\n  return (\n    <div className=\"bg-white border rounded-lg p-4\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-lg font-semibold\">Grandfathering Rules</h3>\n        <button\n          onClick={() => setIsCreating(true)}\n          className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700\"\n        >\n          Add Rule\n        </button>\n      </div>\n\n      {isCreating ? (\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Rule Name</label>\n            <input\n              type=\"text\"\n              value={formData.name}\n              onChange={e => setFormData(prev => ({ ...prev, name: e.target.value }))}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n            <textarea\n              value={formData.description}\n              onChange={e => setFormData(prev => ({ ...prev, description: e.target.value }))}\n              rows={2}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Customer Segment</label>\n            <input\n              type=\"text\"\n              value={formData.customerSegment}\n              onChange={e => setFormData(prev => ({ ...prev, customerSegment: e.target.value }))}\n              placeholder=\"e.g., Early adopters, Enterprise customers\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Original Price</label>\n              <input\n                type=\"number\"\n                value={formData.originalPrice}\n                onChange={e =>\n                  setFormData(prev => ({ ...prev, originalPrice: parseFloat(e.target.value) || 0 }))\n                }\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Grandfathered Price\n              </label>\n              <input\n                type=\"number\"\n                value={formData.grandfatheredPrice}\n                onChange={e =>\n                  setFormData(prev => ({\n                    ...prev,\n                    grandfatheredPrice: parseFloat(e.target.value) || 0,\n                  }))\n                }\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Start Date</label>\n              <input\n                type=\"date\"\n                value={formData.startDate}\n                onChange={e => setFormData(prev => ({ ...prev, startDate: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                End Date (optional)\n              </label>\n              <input\n                type=\"date\"\n                value={formData.endDate}\n                onChange={e => setFormData(prev => ({ ...prev, endDate: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n\n          <div className=\"flex items-center\">\n            <input\n              type=\"checkbox\"\n              id=\"isActive\"\n              checked={formData.isActive}\n              onChange={e => setFormData(prev => ({ ...prev, isActive: e.target.checked }))}\n              className=\"mr-2\"\n            />\n            <label htmlFor=\"isActive\" className=\"text-sm text-gray-700\">\n              Active\n            </label>\n          </div>\n\n          <div className=\"flex justify-end space-x-2\">\n            <button\n              onClick={handleCancel}\n              className=\"px-4 py-2 text-sm text-gray-600 hover:text-gray-800\"\n            >\n              Cancel\n            </button>\n            <button\n              onClick={handleSubmit}\n              disabled={!formData.name || !formData.customerSegment}\n              className=\"px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 disabled:opacity-50\"\n            >\n              {editingRule ? 'Update Rule' : 'Add Rule'}\n            </button>\n          </div>\n        </div>\n      ) : (\n        <div className=\"space-y-3\">\n          {rules.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <div className=\"text-gray-400 mb-2\">\n                <svg\n                  className=\"w-12 h-12 mx-auto\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                  />\n                </svg>\n              </div>\n              <p className=\"text-gray-500 text-sm\">No grandfathering rules</p>\n              <p className=\"text-gray-400 text-xs mt-1\">\n                Add rules to protect existing customers from price changes\n              </p>\n            </div>\n          ) : (\n            rules.map(rule => (\n              <div key={rule.id} className=\"border rounded-lg p-3\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h4 className=\"font-medium text-gray-900\">{rule.name}</h4>\n                    <p className=\"text-sm text-gray-600\">{rule.description}</p>\n                    <div className=\"mt-2 text-xs text-gray-500\">\n                      <span className=\"mr-4\">Segment: {rule.customerSegment}</span>\n                      <span className=\"mr-4\">Original: ${rule.originalPrice}</span>\n                      <span className=\"mr-4\">Grandfathered: ${rule.grandfatheredPrice}</span>\n                      <span\n                        className={`px-2 py-1 rounded text-xs ${rule.isActive ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}\n                      >\n                        {rule.isActive ? 'Active' : 'Inactive'}\n                      </span>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center space-x-2\">\n                    <button\n                      onClick={() => handleEdit(rule)}\n                      className=\"text-blue-600 hover:text-blue-800 text-sm\"\n                    >\n                      Edit\n                    </button>\n                    <button\n                      onClick={() => onDelete(rule.id)}\n                      className=\"text-red-600 hover:text-red-800 text-sm\"\n                    >\n                      Delete\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport { PricingPlan } from '../types/pricing';\n\ninterface PricingPreviewProps {\n  plan: PricingPlan;\n  currency: string;\n}\n\nexport function PricingPreview({ plan, currency }: PricingPreviewProps) {\n  return (\n    <div className=\"bg-white border rounded-lg p-6\">\n      <div className=\"text-center mb-8\">\n        <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">{plan.name}</h2>\n        <p className=\"text-lg text-gray-600\">{plan.description}</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {plan.tiers.map((tier, index) => (\n          <div\n            key={tier.id}\n            className={`relative border rounded-lg p-6 ${\n              index === 1 ? 'border-blue-500 ring-2 ring-blue-200' : 'border-gray-200'\n            }`}\n          >\n            {index === 1 && (\n              <div className=\"absolute -top-3 left-1/2 transform -translate-x-1/2\">\n                <span className=\"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium\">\n                  Most Popular\n                </span>\n              </div>\n            )}\n\n            <div className=\"text-center mb-6\">\n              <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">{tier.name}</h3>\n              <p className=\"text-gray-600 text-sm mb-4\">{tier.description}</p>\n\n              <div className=\"mb-4\">\n                <span className=\"text-4xl font-bold text-gray-900\">\n                  {tier.price === 0 ? 'Free' : `$${tier.price}`}\n                </span>\n                {tier.price > 0 && (\n                  <span className=\"text-gray-600 ml-1\">\n                    /{tier.interval === 'month' ? 'month' : 'year'}\n                  </span>\n                )}\n              </div>\n\n              {tier.price > 0 && tier.intervalCount > 1 && (\n                <p className=\"text-sm text-gray-500\">\n                  Billed every {tier.intervalCount} {tier.interval === 'month' ? 'months' : 'years'}\n                </p>\n              )}\n            </div>\n\n            <div className=\"space-y-3 mb-6\">\n              {tier.features.map((feature, featureIndex) => (\n                <div key={featureIndex} className=\"flex items-start\">\n                  <svg\n                    className=\"w-5 h-5 text-green-500 mr-3 mt-0.5 flex-shrink-0\"\n                    fill=\"currentColor\"\n                    viewBox=\"0 0 20 20\"\n                  >\n                    <path\n                      fillRule=\"evenodd\"\n                      d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\n                      clipRule=\"evenodd\"\n                    />\n                  </svg>\n                  <span className=\"text-sm text-gray-700\">{feature}</span>\n                </div>\n              ))}\n            </div>\n\n            <button\n              className={`w-full py-3 px-4 rounded-lg font-medium transition-colors ${\n                index === 1\n                  ? 'bg-blue-600 text-white hover:bg-blue-700'\n                  : 'bg-gray-100 text-gray-900 hover:bg-gray-200'\n              }`}\n            >\n              {tier.price === 0 ? 'Get Started' : 'Choose Plan'}\n            </button>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"mt-8 text-center\">\n        <p className=\"text-sm text-gray-500\">\n          All plans include 24/7 support and a 30-day money-back guarantee\n        </p>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { PricingTemplate } from '../types/pricing';\n\ninterface TemplateSelectorProps {\n  templates: PricingTemplate[];\n  onSelect: (template: PricingTemplate) => void;\n  onCreate: () => void;\n}\n\nexport function TemplateSelector({ templates, onSelect, onCreate }: TemplateSelectorProps) {\n  const [selectedCategory, setSelectedCategory] = useState<string>('all');\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const categories = ['all', ...new Set(templates.map(t => t.category))];\n\n  const filteredTemplates = templates.filter(template => {\n    const matchesCategory = selectedCategory === 'all' || template.category === selectedCategory;\n    const matchesSearch =\n      template.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      template.description.toLowerCase().includes(searchQuery.toLowerCase());\n    return matchesCategory && matchesSearch;\n  });\n\n  return (\n    <div className=\"bg-white border rounded-lg p-6\">\n      <div className=\"mb-6\">\n        <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">Choose a Template</h3>\n        <p className=\"text-gray-600\">Start with a pre-built pricing structure or create your own</p>\n      </div>\n\n      {/* Search and Filter */}\n      <div className=\"mb-6 space-y-4\">\n        <div>\n          <input\n            type=\"text\"\n            placeholder=\"Search templates...\"\n            value={searchQuery}\n            onChange={e => setSearchQuery(e.target.value)}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n\n        <div className=\"flex flex-wrap gap-2\">\n          {categories.map(category => (\n            <button\n              key={category}\n              onClick={() => setSelectedCategory(category)}\n              className={`px-3 py-1 rounded-full text-sm font-medium transition-colors ${\n                selectedCategory === category\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n              }`}\n            >\n              {category === 'all' ? 'All Templates' : category}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Templates Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6\">\n        {filteredTemplates.map(template => (\n          <div\n            key={template.id}\n            onClick={() => onSelect(template)}\n            className=\"border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-md transition-all cursor-pointer\"\n          >\n            <div className=\"mb-3\">\n              <h4 className=\"font-medium text-gray-900 mb-1\">{template.name}</h4>\n              <p className=\"text-sm text-gray-600\">{template.description}</p>\n            </div>\n\n            <div className=\"mb-3\">\n              <div className=\"bg-gray-50 rounded p-3 text-xs text-gray-600 font-mono\">\n                {template.preview}\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <span className=\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded\">\n                {template.category}\n              </span>\n              <button className=\"text-blue-600 hover:text-blue-800 text-sm font-medium\">\n                Use Template \n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {filteredTemplates.length === 0 && (\n        <div className=\"text-center py-8\">\n          <div className=\"text-gray-400 mb-2\">\n            <svg\n              className=\"w-12 h-12 mx-auto\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n              />\n            </svg>\n          </div>\n          <p className=\"text-gray-500 text-sm\">No templates found</p>\n          <p className=\"text-gray-400 text-xs mt-1\">Try adjusting your search or filters</p>\n        </div>\n      )}\n\n      {/* Create New */}\n      <div className=\"border-t pt-6\">\n        <div className=\"text-center\">\n          <h4 className=\"font-medium text-gray-900 mb-2\">Don't see what you need?</h4>\n          <p className=\"text-sm text-gray-600 mb-4\">Create a custom pricing plan from scratch</p>\n          <button\n            onClick={onCreate}\n            className=\"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors\"\n          >\n            Create Custom Plan\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useMemo } from 'react';\nimport { PricingPlan } from '../types/pricing';\n\ninterface PricingCalculatorProps {\n  plan: PricingPlan;\n  currency: string;\n}\n\nexport function PricingCalculator({ plan, currency }: PricingCalculatorProps) {\n  const [inputs, setInputs] = useState({\n    monthlyRevenue: 0,\n    customerCount: 0,\n    churnRate: 5,\n    growthRate: 10,\n  });\n\n  const calculations = useMemo(() => {\n    const { monthlyRevenue, customerCount, churnRate, growthRate } = inputs;\n\n    // Calculate metrics for each tier\n    const tierMetrics = plan.tiers.map(tier => {\n      const monthlyPrice = tier.price;\n      const customersAtTier = Math.floor(customerCount * (1 / plan.tiers.length)); // Simplified distribution\n      const monthlyRevenueFromTier = customersAtTier * monthlyPrice;\n      const annualRevenueFromTier = monthlyRevenueFromTier * 12;\n\n      // Churn impact\n      const monthlyChurn = customersAtTier * (churnRate / 100);\n      const monthlyNewCustomers = customersAtTier * (growthRate / 100);\n      const netGrowth = monthlyNewCustomers - monthlyChurn;\n\n      return {\n        tier,\n        customersAtTier,\n        monthlyRevenueFromTier,\n        annualRevenueFromTier,\n        monthlyChurn,\n        monthlyNewCustomers,\n        netGrowth,\n      };\n    });\n\n    // Total calculations\n    const totalMonthlyRevenue = tierMetrics.reduce(\n      (sum, tier) => sum + tier.monthlyRevenueFromTier,\n      0\n    );\n    const totalAnnualRevenue = totalMonthlyRevenue * 12;\n    const totalMonthlyChurn = tierMetrics.reduce((sum, tier) => sum + tier.monthlyChurn, 0);\n    const totalMonthlyNewCustomers = tierMetrics.reduce(\n      (sum, tier) => sum + tier.monthlyNewCustomers,\n      0\n    );\n    const totalNetGrowth = totalMonthlyNewCustomers - totalMonthlyChurn;\n\n    return {\n      tierMetrics,\n      totalMonthlyRevenue,\n      totalAnnualRevenue,\n      totalMonthlyChurn,\n      totalMonthlyNewCustomers,\n      totalNetGrowth,\n    };\n  }, [inputs, plan.tiers]);\n\n  const handleInputChange = (field: string, value: number) => {\n    setInputs(prev => ({ ...prev, [field]: value }));\n  };\n\n  return (\n    <div className=\"bg-white border rounded-lg p-4\">\n      <h3 className=\"text-lg font-semibold mb-4\">Revenue Calculator</h3>\n\n      {/* Input Controls */}\n      <div className=\"space-y-4 mb-6\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Current Monthly Revenue\n          </label>\n          <input\n            type=\"number\"\n            value={inputs.monthlyRevenue}\n            onChange={e => handleInputChange('monthlyRevenue', parseFloat(e.target.value) || 0)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Customer Count</label>\n          <input\n            type=\"number\"\n            value={inputs.customerCount}\n            onChange={e => handleInputChange('customerCount', parseInt(e.target.value) || 0)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Churn Rate (%)</label>\n            <input\n              type=\"number\"\n              value={inputs.churnRate}\n              onChange={e => handleInputChange('churnRate', parseFloat(e.target.value) || 0)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Growth Rate (%)</label>\n            <input\n              type=\"number\"\n              value={inputs.growthRate}\n              onChange={e => handleInputChange('growthRate', parseFloat(e.target.value) || 0)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Results */}\n      <div className=\"space-y-4\">\n        <div className=\"bg-gray-50 rounded-lg p-4\">\n          <h4 className=\"font-medium text-gray-900 mb-3\">Projected Revenue</h4>\n          <div className=\"grid grid-cols-2 gap-4 text-sm\">\n            <div>\n              <span className=\"text-gray-500\">Monthly:</span>\n              <span className=\"ml-2 font-medium\">\n                ${calculations.totalMonthlyRevenue.toLocaleString()}\n              </span>\n            </div>\n            <div>\n              <span className=\"text-gray-500\">Annual:</span>\n              <span className=\"ml-2 font-medium\">\n                ${calculations.totalAnnualRevenue.toLocaleString()}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-gray-50 rounded-lg p-4\">\n          <h4 className=\"font-medium text-gray-900 mb-3\">Customer Metrics</h4>\n          <div className=\"grid grid-cols-2 gap-4 text-sm\">\n            <div>\n              <span className=\"text-gray-500\">Monthly Churn:</span>\n              <span className=\"ml-2 font-medium\">{calculations.totalMonthlyChurn.toFixed(0)}</span>\n            </div>\n            <div>\n              <span className=\"text-gray-500\">New Customers:</span>\n              <span className=\"ml-2 font-medium\">\n                {calculations.totalMonthlyNewCustomers.toFixed(0)}\n              </span>\n            </div>\n            <div>\n              <span className=\"text-gray-500\">Net Growth:</span>\n              <span\n                className={`ml-2 font-medium ${calculations.totalNetGrowth >= 0 ? 'text-green-600' : 'text-red-600'}`}\n              >\n                {calculations.totalNetGrowth >= 0 ? '+' : ''}\n                {calculations.totalNetGrowth.toFixed(0)}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Tier Breakdown */}\n        <div>\n          <h4 className=\"font-medium text-gray-900 mb-3\">Tier Breakdown</h4>\n          <div className=\"space-y-2\">\n            {calculations.tierMetrics.map((tier, index) => (\n              <div key={tier.tier.id} className=\"flex items-center justify-between text-sm\">\n                <div>\n                  <span className=\"font-medium\">{tier.tier.name}</span>\n                  <span className=\"text-gray-500 ml-2\">\n                    ({tier.customersAtTier.toFixed(0)} customers)\n                  </span>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"font-medium\">\n                    ${tier.monthlyRevenueFromTier.toLocaleString()}/mo\n                  </div>\n                  <div className=\"text-gray-500\">\n                    ${tier.annualRevenueFromTier.toLocaleString()}/yr\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import {\n  PricingEditorState,\n  PricingEditorAction,\n  PricingPlan,\n  PricingTier\n} from '../types/pricing';\n\n// ============================================================================\n// Pricing Editor Reducer\n// ============================================================================\n\nexport function pricingEditorReducer(\n  state: PricingEditorState,\n  action: PricingEditorAction\n): PricingEditorState {\n  switch (action.type) {\n    case 'SET_PLAN':\n      return {\n        ...state,\n        currentPlan: action.payload,\n        selectedTier: null,\n        isEditing: false,\n        isPreviewMode: false,\n      };\n\n    case 'ADD_TIER':\n      if (!state.currentPlan) return state;\n      \n      const newTier = {\n        ...action.payload,\n        sortOrder: state.currentPlan.tiers.length,\n      };\n      \n      return {\n        ...state,\n        currentPlan: {\n          ...state.currentPlan,\n          tiers: [...state.currentPlan.tiers, newTier],\n          updatedAt: new Date(),\n        },\n      };\n\n    case 'UPDATE_TIER':\n      if (!state.currentPlan) return state;\n      \n      const updatedTiers = state.currentPlan.tiers.map(tier =>\n        tier.id === action.payload.id\n          ? { ...tier, ...action.payload.updates }\n          : tier\n      );\n      \n      return {\n        ...state,\n        currentPlan: {\n          ...state.currentPlan,\n          tiers: updatedTiers,\n          updatedAt: new Date(),\n        },\n        selectedTier: state.selectedTier?.id === action.payload.id\n          ? { ...state.selectedTier, ...action.payload.updates }\n          : state.selectedTier,\n      };\n\n    case 'DELETE_TIER':\n      if (!state.currentPlan) return state;\n      \n      const filteredTiers = state.currentPlan.tiers.filter(\n        tier => tier.id !== action.payload\n      );\n      \n      return {\n        ...state,\n        currentPlan: {\n          ...state.currentPlan,\n          tiers: filteredTiers,\n          updatedAt: new Date(),\n        },\n        selectedTier: state.selectedTier?.id === action.payload\n          ? null\n          : state.selectedTier,\n      };\n\n    case 'REORDER_TIERS':\n      if (!state.currentPlan) return state;\n      \n      const reorderedTiers = action.payload\n        .map((tierId, index) => {\n          const tier = state.currentPlan!.tiers.find(t => t.id === tierId);\n          return tier ? { ...tier, sortOrder: index } : null;\n        })\n        .filter(Boolean) as PricingTier[];\n      \n      return {\n        ...state,\n        currentPlan: {\n          ...state.currentPlan,\n          tiers: reorderedTiers,\n          updatedAt: new Date(),\n        },\n      };\n\n    case 'SET_SELECTED_TIER':\n      if (!action.payload) {\n        return {\n          ...state,\n          selectedTier: null,\n        };\n      }\n      \n      const selectedTier = state.currentPlan?.tiers.find(\n        tier => tier.id === action.payload\n      );\n      \n      return {\n        ...state,\n        selectedTier: selectedTier || null,\n      };\n\n    case 'TOGGLE_EDIT_MODE':\n      return {\n        ...state,\n        isEditing: !state.isEditing,\n        selectedTier: state.isEditing ? null : state.selectedTier,\n      };\n\n    case 'TOGGLE_PREVIEW_MODE':\n      return {\n        ...state,\n        isPreviewMode: !state.isPreviewMode,\n        selectedTier: state.isPreviewMode ? null : state.selectedTier,\n      };\n\n    case 'START_AB_TEST':\n      return {\n        ...state,\n        activeABTest: action.payload,\n      };\n\n    case 'STOP_AB_TEST':\n      return {\n        ...state,\n        activeABTest: null,\n      };\n\n    case 'ADD_GRANDFATHERING_RULE':\n      return {\n        ...state,\n        grandfatheringRules: [...state.grandfatheringRules, action.payload],\n      };\n\n    case 'UPDATE_GRANDFATHERING_RULE':\n      return {\n        ...state,\n        grandfatheringRules: state.grandfatheringRules.map(rule =>\n          rule.id === action.payload.id\n            ? { ...rule, ...action.payload.updates }\n            : rule\n        ),\n      };\n\n    case 'DELETE_GRANDFATHERING_RULE':\n      return {\n        ...state,\n        grandfatheringRules: state.grandfatheringRules.filter(\n          rule => rule.id !== action.payload\n        ),\n      };\n\n    case 'SAVE_HISTORY':\n      if (!state.currentPlan) return state;\n      \n      return {\n        ...state,\n        history: [...state.history, state.currentPlan],\n        undoStack: [...state.undoStack, state.currentPlan],\n        redoStack: [],\n      };\n\n    case 'UNDO':\n      if (state.undoStack.length === 0) return state;\n      \n      const previousPlan = state.undoStack[state.undoStack.length - 1];\n      const newUndoStack = state.undoStack.slice(0, -1);\n      \n      return {\n        ...state,\n        currentPlan: previousPlan,\n        undoStack: newUndoStack,\n        redoStack: [state.currentPlan!, ...state.redoStack],\n        selectedTier: null,\n      };\n\n    case 'REDO':\n      if (state.redoStack.length === 0) return state;\n      \n      const nextPlan = state.redoStack[0];\n      const newRedoStack = state.redoStack.slice(1);\n      \n      return {\n        ...state,\n        currentPlan: nextPlan,\n        undoStack: [...state.undoStack, state.currentPlan!],\n        redoStack: newRedoStack,\n        selectedTier: null,\n      };\n\n    case 'RESET':\n      return {\n        ...state,\n        currentPlan: state.history.length > 0 ? state.history[0] : null,\n        selectedTier: null,\n        isEditing: false,\n        isPreviewMode: false,\n        activeABTest: null,\n        undoStack: [],\n        redoStack: [],\n      };\n\n    default:\n      return state;\n  }\n}\n\n// ============================================================================\n// Helper Functions\n// ============================================================================\n\nexport function createEmptyPlan(): PricingPlan {\n  return {\n    id: `plan-${Date.now()}`,\n    name: 'New Pricing Plan',\n    description: 'A new pricing plan',\n    tiers: [],\n    currency: 'USD',\n    isActive: true,\n    version: '1.0.0',\n    createdAt: new Date(),\n    updatedAt: new Date(),\n  };\n}\n\nexport function createEmptyTier(): PricingTier {\n  return {\n    id: `tier-${Date.now()}`,\n    name: 'New Tier',\n    description: 'Add your description here',\n    price: 0,\n    currency: 'USD',\n    interval: 'month',\n    intervalCount: 1,\n    features: [],\n    isPopular: false,\n    isActive: true,\n    sortOrder: 0,\n  };\n}\n\nexport function validatePlan(plan: PricingPlan): string[] {\n  const errors: string[] = [];\n  \n  if (!plan.name.trim()) {\n    errors.push('Plan name is required');\n  }\n  \n  if (plan.tiers.length === 0) {\n    errors.push('At least one pricing tier is required');\n  }\n  \n  plan.tiers.forEach((tier, index) => {\n    if (!tier.name.trim()) {\n      errors.push(`Tier ${index + 1}: Name is required`);\n    }\n    \n    if (tier.price < 0) {\n      errors.push(`Tier ${index + 1}: Price cannot be negative`);\n    }\n    \n    if (tier.intervalCount <= 0) {\n      errors.push(`Tier ${index + 1}: Interval count must be positive`);\n    }\n  });\n  \n  return errors;\n}\n\nexport function calculatePlanMetrics(plan: PricingPlan): {\n  totalTiers: number;\n  activeTiers: number;\n  averagePrice: number;\n  priceRange: { min: number; max: number };\n  popularTier: PricingTier | null;\n} {\n  const activeTiers = plan.tiers.filter(tier => tier.isActive);\n  const prices = activeTiers.map(tier => tier.price);\n  \n  return {\n    totalTiers: plan.tiers.length,\n    activeTiers: activeTiers.length,\n    averagePrice: prices.length > 0 ? prices.reduce((sum, price) => sum + price, 0) / prices.length : 0,\n    priceRange: {\n      min: prices.length > 0 ? Math.min(...prices) : 0,\n      max: prices.length > 0 ? Math.max(...prices) : 0,\n    },\n    popularTier: plan.tiers.find(tier => tier.isPopular) || null,\n  };\n}\n","import { useReducer, useCallback, useState } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  PricingEditorProps,\n  PricingTier,\n  ABTest\n} from '../types/pricing';\nimport { PricingTierCard } from './pricing-tier-card';\nimport { PricingTierEditor } from './pricing-tier-editor';\nimport { ABTestPanel } from './ab-test-panel';\nimport { GrandfatheringPanel } from './grandfathering-panel';\nimport { PricingPreview } from './pricing-preview';\nimport { TemplateSelector } from './template-selector';\nimport { PricingCalculator } from './pricing-calculator';\nimport { pricingEditorReducer } from '../utils/pricing-editor-reducer';\nimport { cn } from '../utils/cn';\n\n// ============================================================================\n// Pricing Editor Component\n// ============================================================================\n\nexport function PricingEditor({\n  initialPlan,\n  onSave,\n  onPublish,\n  onABTestStart,\n  onABTestStop,\n  onGrandfatheringRuleAdd,\n  onGrandfatheringRuleUpdate,\n  onGrandfatheringRuleDelete,\n  templates = [],\n  onTemplateSelect,\n  currency = 'USD',\n  supportedCurrencies = ['USD', 'EUR', 'GBP', 'CAD', 'AUD'],\n  features = [],\n  limits = [],\n  className,\n  style,\n}: PricingEditorProps) {\n  const [state, dispatch] = useReducer(pricingEditorReducer, {\n    currentPlan: initialPlan || null,\n    selectedTier: null,\n    isEditing: false,\n    isPreviewMode: false,\n    activeABTest: null,\n    grandfatheringRules: [],\n    templates,\n    history: [],\n    undoStack: [],\n    redoStack: [],\n  });\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  // ============================================================================\n  // Event Handlers\n  // ============================================================================\n\n  const handleTierAdd = useCallback((tier: PricingTier) => {\n    dispatch({ type: 'ADD_TIER', payload: tier });\n  }, []);\n\n  const handleTierUpdate = useCallback((id: string, updates: Partial<PricingTier>) => {\n    dispatch({ type: 'UPDATE_TIER', payload: { id, updates } });\n  }, []);\n\n  const handleTierDelete = useCallback((id: string) => {\n    dispatch({ type: 'DELETE_TIER', payload: id });\n  }, []);\n\n  const handleTierReorder = useCallback((tierIds: string[]) => {\n    dispatch({ type: 'REORDER_TIERS', payload: tierIds });\n  }, []);\n\n  const handleTierSelect = useCallback((tierId: string | null) => {\n    dispatch({ type: 'SET_SELECTED_TIER', payload: tierId });\n  }, []);\n\n  const handleEditToggle = useCallback(() => {\n    dispatch({ type: 'TOGGLE_EDIT_MODE' });\n  }, []);\n\n  const handlePreviewToggle = useCallback(() => {\n    dispatch({ type: 'TOGGLE_PREVIEW_MODE' });\n  }, []);\n\n  const handleSave = useCallback(async () => {\n    if (!state.currentPlan || !onSave) return;\n    \n    setIsLoading(true);\n    try {\n      await onSave(state.currentPlan);\n      dispatch({ type: 'SAVE_HISTORY' });\n    } catch (error) {\n      console.error('Failed to save plan:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [state.currentPlan, onSave]);\n\n  const handlePublish = useCallback(async () => {\n    if (!state.currentPlan || !onPublish) return;\n    \n    setIsLoading(true);\n    try {\n      await onPublish(state.currentPlan);\n    } catch (error) {\n      console.error('Failed to publish plan:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [state.currentPlan, onPublish]);\n\n  const handleABTestStart = useCallback(async (abTest: ABTest) => {\n    dispatch({ type: 'START_AB_TEST', payload: abTest });\n    await onABTestStart?.(abTest);\n  }, [onABTestStart]);\n\n  const handleABTestStop = useCallback(async () => {\n    if (!state.activeABTest) return;\n    \n    dispatch({ type: 'STOP_AB_TEST' });\n    await onABTestStop?.(state.activeABTest.id);\n  }, [state.activeABTest, onABTestStop]);\n\n  const handleUndo = useCallback(() => {\n    dispatch({ type: 'UNDO' });\n  }, []);\n\n  const handleRedo = useCallback(() => {\n    dispatch({ type: 'REDO' });\n  }, []);\n\n  const handleReset = useCallback(() => {\n    dispatch({ type: 'RESET' });\n  }, []);\n\n  // ============================================================================\n  // Render\n  // ============================================================================\n\n  if (!state.currentPlan) {\n    return (\n      <div className={cn('flex items-center justify-center h-96', className)} style={style}>\n        <div className=\"text-center\">\n          <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">No Pricing Plan</h3>\n          <p className=\"text-gray-500 mb-4\">Select a template or create a new plan to get started.</p>\n          <TemplateSelector\n            templates={templates}\n            onSelect={onTemplateSelect || ((_template) => {})}\n            onCreate={() => {}}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <DndProvider backend={HTML5Backend}>\n      <div className={cn('pricing-editor', className)} style={style}>\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">{state.currentPlan.name}</h2>\n            <p className=\"text-gray-600\">{state.currentPlan.description}</p>\n          </div>\n          \n          <div className=\"flex items-center space-x-2\">\n            <button\n              onClick={handleEditToggle}\n              className={cn(\n                'px-4 py-2 rounded-md text-sm font-medium transition-colors',\n                state.isEditing\n                  ? 'bg-blue-600 text-white hover:bg-blue-700'\n                  : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n              )}\n            >\n              {state.isEditing ? 'Exit Edit' : 'Edit'}\n            </button>\n            \n            <button\n              onClick={handlePreviewToggle}\n              className={cn(\n                'px-4 py-2 rounded-md text-sm font-medium transition-colors',\n                state.isPreviewMode\n                  ? 'bg-green-600 text-white hover:bg-green-700'\n                  : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n              )}\n            >\n              {state.isPreviewMode ? 'Exit Preview' : 'Preview'}\n            </button>\n            \n            <button\n              onClick={handleSave}\n              disabled={isLoading}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50\"\n            >\n              {isLoading ? 'Saving...' : 'Save'}\n            </button>\n            \n            <button\n              onClick={handlePublish}\n              disabled={isLoading}\n              className=\"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50\"\n            >\n              {isLoading ? 'Publishing...' : 'Publish'}\n            </button>\n          </div>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Pricing Tiers */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Pricing Tiers</h3>\n              <p className=\"text-sm text-gray-600\">\n                Drag and drop to reorder tiers. Click to edit details.\n              </p>\n            </div>\n            \n            <div className=\"space-y-4\">\n              <AnimatePresence>\n                {state.currentPlan.tiers.map((tier, index) => (\n                  <motion.div\n                    key={tier.id}\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    exit={{ opacity: 0, y: -20 }}\n                    transition={{ duration: 0.2 }}\n                  >\n                    <PricingTierCard\n                      tier={tier}\n                      index={index}\n                      isSelected={state.selectedTier?.id === tier.id}\n                      isEditing={state.isEditing}\n                      onSelect={() => handleTierSelect(tier.id)}\n                      onUpdate={(updates) => handleTierUpdate(tier.id, updates)}\n                      onDelete={() => handleTierDelete(tier.id)}\n                      onReorder={handleTierReorder}\n                    />\n                  </motion.div>\n                ))}\n              </AnimatePresence>\n            </div>\n            \n            {state.isEditing && (\n              <button\n                onClick={() => {\n                  const newTier: PricingTier = {\n                    id: `tier-${Date.now()}`,\n                    name: 'New Tier',\n                    description: 'Add your description here',\n                    price: 0,\n                    currency,\n                    interval: 'month',\n                    intervalCount: 1,\n                    features: [],\n                    isPopular: false,\n                    isActive: true,\n                    sortOrder: state.currentPlan!.tiers.length,\n                  };\n                  handleTierAdd(newTier);\n                }}\n                className=\"w-full mt-4 p-4 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-gray-400 hover:text-gray-600 transition-colors\"\n              >\n                + Add New Tier\n              </button>\n            )}\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"space-y-6\">\n            {/* Selected Tier Editor */}\n            {state.selectedTier && (\n              <PricingTierEditor\n                tier={state.selectedTier}\n                onUpdate={(updates) => handleTierUpdate(state.selectedTier!.id, updates)}\n                onClose={() => handleTierSelect(null)}\n                currency={currency}\n                supportedCurrencies={supportedCurrencies}\n                features={features}\n                limits={limits}\n              />\n            )}\n\n            {/* A/B Testing Panel */}\n            <ABTestPanel\n              activeTest={state.activeABTest}\n              onStart={handleABTestStart}\n              onStop={handleABTestStop}\n              currentPlan={state.currentPlan}\n            />\n\n            {/* Grandfathering Panel */}\n            <GrandfatheringPanel\n              rules={state.grandfatheringRules}\n              onAdd={onGrandfatheringRuleAdd || (() => {})}\n              onUpdate={onGrandfatheringRuleUpdate || (() => {})}\n              onDelete={onGrandfatheringRuleDelete || (() => {})}\n            />\n\n            {/* Pricing Calculator */}\n            <PricingCalculator\n              plan={state.currentPlan}\n              currency={currency}\n            />\n          </div>\n        </div>\n\n        {/* Preview Mode */}\n        {state.isPreviewMode && (\n          <div className=\"mt-8\">\n            <PricingPreview\n              plan={state.currentPlan}\n              currency={currency}\n            />\n          </div>\n        )}\n\n        {/* History Controls */}\n        <div className=\"mt-6 flex items-center justify-between\">\n          <div className=\"flex items-center space-x-2\">\n            <button\n              onClick={handleUndo}\n              disabled={state.undoStack.length === 0}\n              className=\"px-3 py-1 text-sm text-gray-600 hover:text-gray-800 disabled:opacity-50\"\n            >\n              Undo\n            </button>\n            <button\n              onClick={handleRedo}\n              disabled={state.redoStack.length === 0}\n              className=\"px-3 py-1 text-sm text-gray-600 hover:text-gray-800 disabled:opacity-50\"\n            >\n              Redo\n            </button>\n            <button\n              onClick={handleReset}\n              className=\"px-3 py-1 text-sm text-red-600 hover:text-red-800\"\n            >\n              Reset\n            </button>\n          </div>\n          \n          <div className=\"text-sm text-gray-500\">\n            Version {state.currentPlan.version}  Last updated {state.currentPlan.updatedAt.toLocaleDateString()}\n          </div>\n        </div>\n      </div>\n    </DndProvider>\n  );\n}\n","import { z } from 'zod';\n\n// ============================================================================\n// Pricing Plan Schemas\n// ============================================================================\n\nexport const PricingTierSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  description: z.string().optional(),\n  price: z.number().nonnegative(),\n  currency: z.string().default('USD'),\n  interval: z.enum(['day', 'week', 'month', 'year']),\n  intervalCount: z.number().positive().default(1),\n  features: z.array(z.string()),\n  limits: z.record(z.string(), z.number().nonnegative()).optional(),\n  metadata: z.record(z.string()).optional(),\n  isPopular: z.boolean().default(false),\n  isActive: z.boolean().default(true),\n  sortOrder: z.number().default(0),\n});\n\nexport const PricingPlanSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  description: z.string().optional(),\n  tiers: z.array(PricingTierSchema),\n  currency: z.string().default('USD'),\n  isActive: z.boolean().default(true),\n  version: z.string().default('1.0.0'),\n  createdAt: z.date(),\n  updatedAt: z.date(),\n  metadata: z.record(z.string()).optional(),\n});\n\nexport const ABTestSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  description: z.string().optional(),\n  planA: z.string(), // Plan ID\n  planB: z.string(), // Plan ID\n  trafficSplit: z.number().min(0).max(1).default(0.5), // 50/50 split\n  startDate: z.date(),\n  endDate: z.date().optional(),\n  isActive: z.boolean().default(true),\n  metrics: z.object({\n    planAConversions: z.number().default(0),\n    planBConversions: z.number().default(0),\n    planARevenue: z.number().default(0),\n    planBRevenue: z.number().default(0),\n  }),\n  createdAt: z.date(),\n  updatedAt: z.date(),\n});\n\nexport const GrandfatheringRuleSchema = z.object({\n  id: z.string(),\n  planId: z.string(),\n  customerSegment: z.string(), // e.g., \"early-adopters\", \"enterprise\"\n  conditions: z.object({\n    signupDateBefore: z.date().optional(),\n    hasFeature: z.string().optional(),\n    customCondition: z.string().optional(),\n  }),\n  actions: z.object({\n    keepCurrentPrice: z.boolean().default(true),\n    addBonusFeatures: z.array(z.string()).default([]),\n    extendTrial: z.number().optional(), // days\n    customDiscount: z.number().optional(), // percentage\n  }),\n  isActive: z.boolean().default(true),\n  createdAt: z.date(),\n  updatedAt: z.date(),\n});\n\nexport const PricingTemplateSchema = z.object({\n  id: z.string(),\n  name: z.string(),\n  description: z.string(),\n  category: z.enum(['saas', 'ecommerce', 'marketplace', 'api', 'ai', 'custom']),\n  preview: z.string(),\n  template: PricingPlanSchema,\n  isPublic: z.boolean().default(false),\n  createdBy: z.string(),\n  createdAt: z.date(),\n  updatedAt: z.date(),\n});\n\n// ============================================================================\n// Type Exports\n// ============================================================================\n\nexport type PricingTier = z.infer<typeof PricingTierSchema>;\nexport type PricingPlan = z.infer<typeof PricingPlanSchema>;\nexport type ABTest = z.infer<typeof ABTestSchema>;\nexport type GrandfatheringRule = z.infer<typeof GrandfatheringRuleSchema>;\nexport type PricingTemplate = z.infer<typeof PricingTemplateSchema>;\n\n// ============================================================================\n// Pricing Editor State\n// ============================================================================\n\nexport interface PricingEditorState {\n  currentPlan: PricingPlan | null;\n  selectedTier: PricingTier | null;\n  isEditing: boolean;\n  isPreviewMode: boolean;\n  activeABTest: ABTest | null;\n  grandfatheringRules: GrandfatheringRule[];\n  templates: PricingTemplate[];\n  history: PricingPlan[];\n  undoStack: PricingPlan[];\n  redoStack: PricingPlan[];\n}\n\n// ============================================================================\n// Drag and Drop Types\n// ============================================================================\n\nexport interface DragItem {\n  type: 'tier' | 'feature' | 'template';\n  id: string;\n  data: any;\n}\n\nexport interface DropResult {\n  dropEffect: 'move' | 'copy';\n  targetId: string;\n  position: 'before' | 'after' | 'inside';\n}\n\n// ============================================================================\n// Pricing Calculator Types\n// ============================================================================\n\nexport interface PricingCalculation {\n  basePrice: number;\n  discounts: Array<{\n    type: 'percentage' | 'fixed';\n    value: number;\n    reason: string;\n  }>;\n  taxes: Array<{\n    type: 'vat' | 'sales' | 'gst';\n    rate: number;\n    amount: number;\n  }>;\n  total: number;\n  breakdown: {\n    subtotal: number;\n    discountAmount: number;\n    taxAmount: number;\n    total: number;\n  };\n}\n\nexport interface PricingComparison {\n  planA: PricingPlan;\n  planB: PricingPlan;\n  metrics: {\n    planARevenue: number;\n    planBRevenue: number;\n    planAConversions: number;\n    planBConversions: number;\n    planAConversionRate: number;\n    planBConversionRate: number;\n    planAARPU: number;\n    planBARPU: number;\n  };\n  recommendation: 'planA' | 'planB' | 'inconclusive';\n  confidence: number;\n}\n\n// ============================================================================\n// Pricing Editor Actions\n// ============================================================================\n\nexport type PricingEditorAction =\n  | { type: 'SET_PLAN'; payload: PricingPlan }\n  | { type: 'ADD_TIER'; payload: PricingTier }\n  | { type: 'UPDATE_TIER'; payload: { id: string; updates: Partial<PricingTier> } }\n  | { type: 'DELETE_TIER'; payload: string }\n  | { type: 'REORDER_TIERS'; payload: string[] }\n  | { type: 'SET_SELECTED_TIER'; payload: string | null }\n  | { type: 'TOGGLE_EDIT_MODE' }\n  | { type: 'TOGGLE_PREVIEW_MODE' }\n  | { type: 'START_AB_TEST'; payload: ABTest }\n  | { type: 'STOP_AB_TEST' }\n  | { type: 'ADD_GRANDFATHERING_RULE'; payload: GrandfatheringRule }\n  | { type: 'UPDATE_GRANDFATHERING_RULE'; payload: { id: string; updates: Partial<GrandfatheringRule> } }\n  | { type: 'DELETE_GRANDFATHERING_RULE'; payload: string }\n  | { type: 'SAVE_HISTORY' }\n  | { type: 'UNDO' }\n  | { type: 'REDO' }\n  | { type: 'RESET' };\n\n// ============================================================================\n// Pricing Editor Props\n// ============================================================================\n\nexport interface PricingEditorProps {\n  initialPlan?: PricingPlan;\n  onPlanChange?: (plan: PricingPlan) => void;\n  onSave?: (plan: PricingPlan) => Promise<void>;\n  onPublish?: (plan: PricingPlan) => Promise<void>;\n  onABTestStart?: (abTest: ABTest) => Promise<void>;\n  onABTestStop?: (abTestId: string) => Promise<void>;\n  onGrandfatheringRuleAdd?: (rule: GrandfatheringRule) => Promise<void>;\n  onGrandfatheringRuleUpdate?: (ruleId: string, updates: Partial<GrandfatheringRule>) => Promise<void>;\n  onGrandfatheringRuleDelete?: (ruleId: string) => Promise<void>;\n  templates?: PricingTemplate[];\n  onTemplateSelect?: (template: PricingTemplate) => void;\n  onTemplateCreate?: (template: Omit<PricingTemplate, 'id' | 'createdAt' | 'updatedAt'>) => Promise<void>;\n  currency?: string;\n  supportedCurrencies?: string[];\n  features?: string[];\n  limits?: string[];\n  className?: string;\n  style?: React.CSSProperties;\n}\n"]}